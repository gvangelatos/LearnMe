import{q as g}from"./chunk-PONW3FBB.js";import{a as r,b as c}from"./chunk-JHI3MBHO.js";var t=(function(o){return o.SwiperPage="swiperPageStatistics",o.SearchPage="searchPageStatistics",o.ArticlesPage="articlesPageStatistics",o.TranslationsPage="translationsPageStatistics",o.GermanEnabled="germanEnabled",o.MatchPage="matchPageStatistics",o})(t||{}),h={totalSuccesses:0,totalFails:0,byMonth:{}},S={totalSearches:0,totalEmptySearches:0,totalSuccessSearches:0,byMonth:{}};var y=(()=>{let l=class l{setItem(e,a){let s=JSON.stringify(a);localStorage.setItem(e,s)}getItem(e){try{let a=localStorage.getItem(e);return a?JSON.parse(a):null}catch(a){return console.error("Error reading from local storage",a),null}}removeItem(e){localStorage.removeItem(e)}addSwiperPageFailure(){let e=this.handleLocalStorageDataRetrieval(t.SwiperPage);this.applyPageFailure(t.SwiperPage,e)}addSearchPageSearch(e){let a=this.handleSearchPageLocalStorageDataRetrieval();e?this.applySearchPageIncrementEmpty(a):this.applySearchPageIncrement(a)}addMatchPageSuccess(){let e=this.handleLocalStorageDataRetrieval(t.MatchPage);this.applyPageSuccess(t.MatchPage,e)}addMatchPageFailure(){let e=this.handleLocalStorageDataRetrieval(t.MatchPage);this.applyPageFailure(t.MatchPage,e)}addTranslationsPageSuccess(){let e=this.handleLocalStorageDataRetrieval(t.TranslationsPage);this.applyPageSuccess(t.TranslationsPage,e)}addTranslationsPageFailure(){let e=this.handleLocalStorageDataRetrieval(t.TranslationsPage);this.applyPageFailure(t.TranslationsPage,e)}addArticlesPageSuccess(){let e=this.handleLocalStorageDataRetrieval(t.ArticlesPage);this.applyPageSuccess(t.ArticlesPage,e)}addArticlesPageFailure(){let e=this.handleLocalStorageDataRetrieval(t.ArticlesPage);this.applyPageFailure(t.ArticlesPage,e)}addSwiperPageSuccess(){let e=this.handleLocalStorageDataRetrieval(t.SwiperPage);this.applyPageSuccess(t.SwiperPage,e)}applySearchPageIncrement(e){let a=this.getYearMonth(),s=e.byMonth[a]??{searches:0,successSearches:0,emptySearches:0},n=c(r({},e),{totalSearches:e.totalSearches+1,totalSuccessSearches:e.totalSuccessSearches+1,byMonth:c(r({},e.byMonth),{[a]:c(r({},s),{searches:s.searches+1,successSearches:s.successSearches+1})})});this.setItem(t.SearchPage,n)}applySearchPageIncrementEmpty(e){let a=this.getYearMonth(),s=e.byMonth[a]??{searches:0,successSearches:0,emptySearches:0},n=c(r({},e),{totalSearches:e.totalSearches+1,totalEmptySearches:e.totalEmptySearches+1,byMonth:c(r({},e.byMonth),{[a]:c(r({},s),{searches:s.searches+1,emptySearches:s.emptySearches+1})})});this.setItem(t.SearchPage,n)}applyPageSuccess(e,a){let s=this.getYearMonth(),n=a.byMonth[s]??{successes:0,fails:0},i=c(r({},a),{totalSuccesses:a.totalSuccesses+1,byMonth:c(r({},a.byMonth),{[s]:c(r({},n),{successes:n.successes+1})})});this.setItem(e,i)}applyPageFailure(e,a){let s=this.getYearMonth(),n=a.byMonth[s]??{successes:0,fails:0},i=c(r({},a),{totalFails:a.totalFails+1,byMonth:c(r({},a.byMonth),{[s]:c(r({},n),{fails:n.fails+1})})});this.setItem(e,i)}getYearMonth(e=new Date){let a=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0");return`${a}-${s}`}handleLocalStorageDataRetrieval(e){let a=this.getItem(e);return a||(this.setItem(e,h),a=h),a}handleSearchPageLocalStorageDataRetrieval(){let e=this.getItem(t.SearchPage);return e||(this.setItem(t.SearchPage,S),e=S),e}clear(){localStorage.clear()}};l.\u0275fac=function(a){return new(a||l)},l.\u0275prov=g({token:l,factory:l.\u0275fac,providedIn:"root"});let o=l;return o})();export{t as a,y as b};
