import{b as K,d as Q}from"./chunk-54FXGTKX.js";import{a as J}from"./chunk-VXUM73G4.js";import"./chunk-PT2JM3JA.js";import{a as q}from"./chunk-CXTAH3RB.js";import{$ as g,Aa as _,Ba as I,Ca as E,Da as b,Ea as D,L as r,Lb as A,Qb as L,Rb as B,Sb as W,Tb as G,U as C,Xb as j,Yb as F,_b as H,aa as v,ca as S,da as M,ea as d,fa as o,fc as N,ga as s,ha as y,j as x,lc as Y,ma as T,mb as z,na as u,nb as P,nc as R,sb as O,t as h,uc as U,ya as c,zc as V}from"./chunk-PNTAUP42.js";import"./chunk-VPLLFS7J.js";import"./chunk-6YT5GN4E.js";import"./chunk-VDFYVGMU.js";import"./chunk-FS7NKJS5.js";import"./chunk-PGY34PD4.js";import"./chunk-GYLY2RJE.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-SPMQWSIB.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{a as f,b as k}from"./chunk-2R6CW7ES.js";var X=["class","page"],Z=(e,i)=>i.word.id;function $(e,i){if(e&1&&(o(0,"div",7),y(1,"ngx-charts-bar-horizontal",9),s()),e&2){let t=u(2);r(),d("results",t.visualizationChartData)("gradient",!0)("wrapTicks",!1)("legend",!1)("xAxis",!0)("yAxis",!0)("showDataLabel",!0)("maxYAxisTickLength",5)}}function ee(e,i){if(e&1&&(o(0,"swiper-slide")(1,"ion-card",10)(2,"ion-card-content")(3,"div",11),c(4),s(),o(5,"div",12),c(6),s(),o(7,"div",13),c(8),s()()()()),e&2){let t=i.$implicit;r(4),_("",t.times," Times Wrong"),r(2),I(" ",t.word.article?t.word.article+" ":"","",t.word.german_translation," "),r(2),_(' "',t.word.english_translation,'" ')}}function te(e,i){if(e&1&&(o(0,"swiper-container",8),S(1,ee,9,4,"swiper-slide",null,Z),s()),e&2){let t=u(2);r(),M(t.wordsMistakes)}}function ie(e,i){if(e&1&&(o(0,"div",6),g(1,$,2,8,"div",7)(2,te,3,0,"swiper-container",8),s()),e&2){let t=u();r(),v(t.visualizationType===t.SelectionsEnum.Graph?1:t.visualizationType===t.SelectionsEnum.Cards?2:-1)}}var w=(function(e){return e.Graph="graph",e.Cards="cards",e})(w||{}),ge=(()=>{let i=class i{constructor(){this.gsApiService=h(J),this.hapticsService=h(q),this.mistakesService=h(V),this.wordsMistakes=[],this.visualizationChartData=[],this.visualizationType=w.Cards,this.mistakes=[],this.SelectionsEnum=w}ionViewWillEnter(){let l=this.mistakesService.initializeMistakes()??[];this.mistakes=l.sort(this.sort),this.mistakes=this.mistakes.slice(0,10),this.gsApiService.getSpecificWordsData(this.mistakes.map(n=>+n.wordID),this.mistakes.length).pipe(x(1)).subscribe(n=>{this.wordsMistakes=[],n.forEach(a=>{let p=this.mistakes.find(m=>+m.wordID==+a.id);p&&this.wordsMistakes.push(k(f({},p),{word:f({},a)}))}),this.visualizationChartData=this.wordsMistakes.sort(this.sort).map(a=>({value:a.times,name:a.word.german_translation}))})}vibrate(){this.hapticsService.vibrateDefault()}sort(l,n){return l.times<n.times?1:l.times>n.times||l.wordID<n.wordID?-1:l.wordID>n.wordID?1:0}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=C({type:i,selectors:[["app-mistakes",8,"page"]],attrs:X,decls:15,vars:7,consts:[[3,"translucent"],["slot","start"],["default-href","/tabs/home-page","color","dark",3,"click"],["label","Floating label","label-placement","floating",3,"ngModelChange","ngModel"],[3,"value"],[3,"forceOverscroll","fullscreen"],[1,"main-container"],[1,"graph-container"],["effect","cards","cards-effect-perSlideOffset","8","cards-effect-perSlideRotate","2","cards-effect-slideShadows","true","cards-effect-rotate","true"],[3,"results","gradient","wrapTicks","legend","xAxis","yAxis","showDataLabel","maxYAxisTickLength"],[1,"word-text"],[1,"mistakes-number"],[1,"german-word-translation"],[1,"english-word-translation"]],template:function(n,a){n&1&&(o(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-back-button",2),T("click",function(){return a.vibrate()}),s()(),o(4,"ion-title"),c(5," My Mistakes "),s()(),o(6,"ion-list")(7,"ion-item")(8,"ion-select",3),D("ngModelChange",function(m){return b(a.visualizationType,m)||(a.visualizationType=m),m}),o(9,"ion-select-option",4),c(10," Graph "),s(),o(11,"ion-select-option",4),c(12," Cards "),s()()()()(),o(13,"ion-content",5),g(14,ie,3,1,"div",6),s()),n&2&&(d("translucent",!0),r(8),E("ngModel",a.visualizationType),r(),d("value",a.SelectionsEnum.Graph),r(2),d("value",a.SelectionsEnum.Cards),r(2),d("forceOverscroll",!1)("fullscreen",!0),r(),v(a.wordsMistakes.length?14:-1))},dependencies:[A,L,G,j,Y,R,Q,K,H,F,U,N,O,z,P,B,W],styles:[".graph-container[_ngcontent-%COMP%]{height:50vh;width:100%}.main-container[_ngcontent-%COMP%]{height:90%;width:100vw;display:flex;align-items:center}.word-text[_ngcontent-%COMP%]{width:70vw;height:50vh;text-align:center;display:flex;flex-direction:column;align-content:center;justify-content:center;border-radius:10px;font-size:20px;color:var(--ion-text-color-step-400);position:relative}.german-word-translation[_ngcontent-%COMP%]{font-size:xx-large}swiper-container[_ngcontent-%COMP%]{width:100%;height:100%}swiper-slide[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}"]});let e=i;return e})();export{ge as MistakesPage};
