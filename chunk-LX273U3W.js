import{a as J}from"./chunk-LQ2Y3UW4.js";import{b as K}from"./chunk-KPCL6SX2.js";import{a as N,b as Q}from"./chunk-6A4THNCZ.js";import{$ as T,$b as V,Aa as w,C as y,Ia as b,Ja as x,L as r,Mb as E,Mc as G,Oa as O,Pb as F,Ta as I,Tb as R,U as A,Wb as L,Y as M,aa as k,ac as D,ca as S,da as P,ea as c,ec as B,fa as s,ga as a,ha as f,ic as W,jc as j,la as v,lc as $,ma as m,md as H,na as l,oc as z,t as p,uc as q,v as u,w as g,xa as _,ya as h}from"./chunk-5KLYWDPG.js";import"./chunk-RZIBBJQ2.js";import"./chunk-QUJFQN2Y.js";import"./chunk-S66GZ3GW.js";import"./chunk-JJC7LCPG.js";import"./chunk-BWE55RDB.js";import"./chunk-VPLLFS7J.js";import"./chunk-DLFPG55H.js";import"./chunk-6HRV5MJL.js";import"./chunk-T77LZ5ZG.js";import"./chunk-BMJVVMK5.js";import"./chunk-QLURDETW.js";import"./chunk-KEHXJWBY.js";import"./chunk-OAAU2IJF.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-VRJJ5SCX.js";import"./chunk-CKP3SGE2.js";import"./chunk-POMS3W3A.js";import"./chunk-6YT5GN4E.js";import"./chunk-VDFYVGMU.js";import"./chunk-FS7NKJS5.js";import"./chunk-PGY34PD4.js";import"./chunk-GYLY2RJE.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-SPMQWSIB.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-2R6CW7ES.js";var C=["Der","Die","Das","Die (Plural)"];var Z=()=>[.15,.5],ee=()=>({"german-translation":!0}),te=()=>[],ne=e=>({"german-translation":!0,shake:e}),ie=e=>({show:e}),oe=e=>({"article-btn":!0,gelatin:e}),re=e=>({next:!0,gelatin:e}),U=(e,o)=>o+"-"+e;function se(e,o){e&1&&f(0,"ion-skeleton-text",7),e&2&&c("animated",!0)}function ae(e,o){e&1&&(s(0,"div",3)(1,"div",5)(2,"ion-text",6)(3,"div"),f(4,"ion-skeleton-text",7),a()()(),s(5,"div",8)(6,"div",9),S(7,se,1,1,"ion-skeleton-text",7,U),a()()()),e&2&&(r(3),_(b(3,ee)),r(),c("animated",!0),r(3),P(b(4,te).constructor(4)))}function ce(e,o){if(e&1){let n=v();s(0,"ion-button",17),m("click",function(){let t=u(n),d=t.$implicit,X=t.$index,Y=l(2);return g(Y.answeredClicked(d,X))}),h(1),a()}if(e&2){let n=o.$implicit,i=o.$index,t=l(2);_(x(4,oe,t.chosenAnswer===i)),c("color",t.getButtonColor(i)),r(),w(" ",n," ")}}function le(e,o){if(e&1){let n=v();s(0,"ion-refresher",10),m("ionRefresh",function(){u(n);let t=l();return g(t.handleRefresh())}),f(1,"ion-refresher-content"),a(),s(2,"div",3)(3,"div",5)(4,"div",11)(5,"ion-text",12)(6,"div"),h(7),a()(),s(8,"ion-button",13),m("click",function(){u(n);let t=l();return g(t.toggleTranslationShow())}),f(9,"ion-icon",14),a()(),s(10,"div")(11,"span",15),h(12),a()()(),s(13,"div",8)(14,"div",9),S(15,ce,2,6,"ion-button",16,U),a()()()}if(e&2){let n=l();r(5),c("color",n.getTextColor()),r(),_(x(6,ne,!n.isCorrect&&n.answered)),r(),w(" ",n.words()[0].german_translation," "),r(4),c("ngClass",x(8,ie,n.showTranslation)),r(),w(' "',n.words()[0].english_translation,'" '),r(3),P(n.ARTICLES)}}function de(e,o){if(e&1){let n=v();s(0,"ion-button",19),m("click",function(){u(n);let t=l(2);return g(t.answered?t.handleRefresh():t.checkAnswer())}),h(1),a()}if(e&2){let n=l(2);_(x(5,re,n.answered)),c("disabled",!n.chosen&&!n.answered)("color",n.getTextColor()),r(),w(" ",n.answered?"Next":"Check"," ")}}function he(e,o){if(e&1&&T(0,de,2,7,"ion-button",18),e&2){let n=l();k(n.chosen?0:-1)}}var Se=(()=>{let o=class o{constructor(){this.gsApiService=p(J),this.hapticsService=p(Q),this.localStorageService=p(H),this.affirmationToastService=p(K),this.words=y([]),this.isCorrect=!1,this.answered=!1,this.showTranslation=!1,this.chosen=!1,this.ARTICLES=C,N({languageOutline:G,arrowForwardOutline:q}),O(()=>{this.words().length<3&&this.makeWordCall()})}makeWordCall(){this.gsApiService.getRandomWordsWithArticle(5).subscribe({next:i=>{this.words.update(t=>t.concat(i)),this.setCorrectWord()},error:i=>{}})}setCorrectWord(){if(this.words()[0]?.isPlural)this.correctAnswer=3;else{let t=C.filter(d=>!d.toLowerCase().includes("plural")).findIndex(d=>this.words()[0]?.article?.toLowerCase().includes(d.toLowerCase()));t>-1&&(this.correctAnswer=t)}}answeredClicked(i,t){!this.words()[0]||this.answered||(this.chosenAnswer=t,this.chosen=!0)}checkAnswer(){this.chosen&&(this.answered=!0,typeof this.chosenAnswer=="number"&&C[this.chosenAnswer].toLowerCase().includes("plural")&&this.words()[0].isPlural?this.handleAnswer(!0):typeof this.chosenAnswer=="number"&&this.words()[0].article?.toLowerCase().includes(C[this.chosenAnswer].toLowerCase())&&!this.words()[0].isPlural?(this.handleAnswer(!0),this.hapticsService.vibrateSuccess(),this.affirmationToastService.showPositiveToast()):(this.handleAnswer(!1),this.hapticsService.vibrateError(),this.affirmationToastService.showNegativeToast()))}toggleTranslationShow(){this.showTranslation=!this.showTranslation}handleAnswer(i){i?this.localStorageService.addArticlesPageSuccess():this.localStorageService.addArticlesPageFailure(),this.isCorrect=i,this.answered=!0,this.showTranslation=!0}getTextColor(){return this.answered?this.isCorrect?"success":"danger":"dark"}resetQuestion(){this.chosen=!1,this.showTranslation=!1,this.isCorrect=!1,this.answered=!1,this.correctAnswer=void 0,this.chosenAnswer=void 0,this.words.update(i=>i.slice(1)),this.setCorrectWord()}getButtonColor(i){return!this.answered&&!this.chosen?"dark":this.chosen&&!this.answered&&i===this.chosenAnswer?"warning":i===this.correctAnswer&&this.answered&&this.chosen?"success":i===this.chosenAnswer?"danger":"dark"}handleRefresh(){this.resetQuestion()}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=A({type:o,selectors:[["app-articles-tab"]],decls:10,vars:13,consts:[["modal",""],[3,"translucent"],[3,"forceOverscroll","fullscreen"],[1,"main-container"],["trigger","open-modal",3,"isOpen","keyboardClose","backdropDismiss","handle","draggable","initialBreakpoint","breakpoints","backdropBreakpoint"],[1,"word-container"],["color","dark"],[3,"animated"],[1,"question-container"],[1,"choices"],["slot","fixed",3,"ionRefresh"],[1,"word-icon-container"],[3,"color"],["id","click-trigger","size","small","fill","outline","shape","round","color","dark",1,"translation-btn",3,"click"],["slot","icon-only","name","language-outline"],[1,"english-translation",3,"ngClass"],[3,"class","color"],[3,"click","color"],["shape","round",3,"disabled","class","color"],["shape","round",3,"click","disabled","color"]],template:function(t,d){t&1&&(s(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),h(3," Guess The Articles "),a()()(),s(4,"ion-content",2),T(5,ae,9,5,"div",3)(6,le,17,10),a(),s(7,"ion-modal",4,0),M(9,he,1,1,"ng-template"),a()),t&2&&(c("translucent",!0),r(4),c("forceOverscroll",!1)("fullscreen",!0),r(),k(d.words().length?6:5),r(2),c("isOpen",d.chosen)("keyboardClose",!1)("backdropDismiss",!1)("handle",!1)("draggable",!1)("initialBreakpoint",.15)("breakpoints",b(12,Z))("backdropBreakpoint",.5))},dependencies:[L,$,j,R,F,z,I,W,V,D,E,B],styles:[".article-card[_ngcontent-%COMP%]{display:inline-block;margin:0;box-shadow:1px 2px #888}ion-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:700}.word-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;align-items:center;font-weight:700;font-size:xx-large;color:var(--ion-color-dark-shade);flex-direction:column}.word-container[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]{width:150px;height:40px}.word-icon-container[_ngcontent-%COMP%]{display:flex;gap:4px}.article-btn[_ngcontent-%COMP%]{font-weight:700;--box-shadow: 3px 5px #888}.next[_ngcontent-%COMP%]{font-weight:700;margin:12px}.translation-btn[_ngcontent-%COMP%]{margin-bottom:22px;font-size:10px}.main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);height:100%;justify-content:center;position:relative}.next-button[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;width:100%;display:flex;align-items:center;justify-content:end}.choices[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;padding:8px;width:100%}.choices[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]{height:50px}.question-container[_ngcontent-%COMP%]{width:100%;align-items:end;display:flex;margin-bottom:10vh}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100%;justify-content:center;gap:8px}.english-translation[_ngcontent-%COMP%]{clip-path:inset(50% round 50%);padding:5px;font-size:x-large;font-weight:400}.english-translation.show[_ngcontent-%COMP%]{clip-path:inset(0% round 0%)}"]});let e=o;return e})();export{Se as Tab2Page};
