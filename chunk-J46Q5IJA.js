import{a as ae}from"./chunk-3GJPDCPF.js";import{a as se,l as le}from"./chunk-EKST77EU.js";import{a as pe}from"./chunk-5CPTF3PV.js";import{a as ge}from"./chunk-CAQ4NDHH.js";import{a as de}from"./chunk-VPWQN3RI.js";import{$ as T,Aa as P,Ba as V,C as A,Ca as F,Da as B,Ea as D,Ia as b,Ja as C,L as r,La as R,Lb as q,Ma as L,Oa as W,Ob as z,Pb as Q,Sb as K,Tb as U,U as G,Ub as J,Wb as X,Xa as j,Y as v,Yb as Y,Zb as Z,aa as k,bc as ee,ca as y,d as I,da as E,ea as d,fa as a,fc as te,ga as s,gc as ne,ha as _,ic as ie,j as O,la as f,lc as oe,ma as w,mb as N,na as c,nb as $,pc as re,qc as S,sb as H,sc as ce,t as u,v as p,w as h,xa as x,ya as m}from"./chunk-3M6VVXZC.js";import"./chunk-XFTDMII6.js";import"./chunk-TWXWFH2W.js";import"./chunk-XSYUFH4D.js";import"./chunk-252GNU6G.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-SPMQWSIB.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{a as M}from"./chunk-JHI3MBHO.js";var ue=["class","page"],_e=()=>[.15,.5],fe=()=>[0,.25,.5,.75],we=()=>({"german-translation":!0}),xe=()=>[],be=n=>({"german-translation":!0,shake:n}),Ce=n=>({"article-btn":!0,gelatin:n}),Se=n=>({next:!0,gelatin:n}),he=(n,o)=>o+"-"+n;function ve(n,o){n&1&&_(0,"ion-skeleton-text",11),n&2&&d("animated",!0)}function Te(n,o){n&1&&(a(0,"div",6)(1,"div",9)(2,"ion-text",10)(3,"div"),_(4,"ion-skeleton-text",11),s()()(),a(5,"div",12)(6,"div",13),y(7,ve,1,1,"ion-skeleton-text",11,he),s()()()),n&2&&(r(3),x(b(3,we)),r(),d("animated",!0),r(3),E(b(4,xe).constructor(4)))}function ke(n,o){if(n&1){let i=f();a(0,"ion-button",17),w("click",function(){let e=p(i),l=e.$implicit,g=e.$index,me=c(2);return h(me.answeredClicked(l,g))}),m(1),R(2,"titlecase"),s()}if(n&2){let i=o.$implicit,t=o.$index,e=c(2);x(C(6,Ce,e.chosenAnswer===t)),d("color",e.getButtonColor(t)),r(),P(" ",L(2,4,i)," ")}}function ye(n,o){if(n&1){let i=f();a(0,"ion-refresher",14),w("ionRefresh",function(){p(i);let e=c();return h(e.handleRefresh())}),_(1,"ion-refresher-content"),s(),a(2,"div",6)(3,"div",9)(4,"ion-text",15)(5,"div"),m(6),s()()(),a(7,"div",12)(8,"div",13),y(9,ke,3,8,"ion-button",16,he),s()()()}if(n&2){let i=c();r(4),d("color",i.getTextColor()),r(),x(C(5,be,!i.isCorrect&&i.answered)),r(),V(" ",i.wordSets()[0].words[0].article&&!i.germanEnabled?i.wordSets()[0].words[0].article+" ":"","",i.germanEnabled?i.wordSets()[0].words[0].english_translation:i.wordSets()[0].words[0].german_translation," "),r(3),E(i.wordSets()[0].answers)}}function Ee(n,o){if(n&1){let i=f();a(0,"ion-button",19),w("click",function(){p(i);let e=c(2);return h(e.answered?e.handleRefresh():e.checkAnswer())}),m(1),s()}if(n&2){let i=c(2);x(C(5,Se,i.answered)),d("disabled",!i.answered&&!i.chosen)("color",i.getTextColor()),r(),P(" ",i.answered?"Next":"Check"," ")}}function Pe(n,o){if(n&1&&T(0,Ee,2,7,"ion-button",18),n&2){let i=c();k(i.chosen?0:-1)}}function Me(n,o){if(n&1){let i=f();a(0,"ion-list",20)(1,"ion-item")(2,"ion-toggle",21),w("ionChange",function(e){p(i);let l=c();return h(l.toggleGerman(e))}),D("ngModelChange",function(e){p(i);let l=c();return B(l.germanEnabled,e)||(l.germanEnabled=e),h(e)}),m(3," Switch to German "),s()()()}if(n&2){let i=c();r(2),F("ngModel",i.germanEnabled)}}var Ie=3,ze=(()=>{let o=class o{constructor(){this.gsApiService=u(ge),this.utilityService=u(pe),this.hapticsService=u(de),this.localStorageService=u(ce),this.wordSets=A([]),this.isCorrect=!1,this.answered=!1,this.chosen=!1,this.germanEnabled=!1,this.getIsGermanEnabledStorageData(),ae({arrowForwardOutline:se,settingsOutline:le}),W(()=>{this.wordSets().length<Ie&&this.getWordsSet()})}ionViewWillEnter(){this.getIsGermanEnabledStorageData(!0)}getIsGermanEnabledStorageData(t=!1){let e=this.localStorageService.getItem(S.GermanEnabled);e===null?(this.germanEnabled=!1,this.localStorageService.setItem(S.GermanEnabled,!1),t&&this.toggleGerman({detail:{checked:!1}})):(t&&this.germanEnabled!==e&&this.toggleGerman({detail:{checked:e}}),this.germanEnabled=e)}getWordsSet(){this.gsApiService.getRandomWords().pipe(I(t=>{let e,l;return this.germanEnabled?(e=this.utilityService.shuffleArray(t.map(g=>g.german_translation)),l=e.findIndex(g=>g.toLowerCase()===t[0]?.german_translation?.toLowerCase())):(e=this.utilityService.shuffleArray(t.map(g=>g.english_translation)),l=e.findIndex(g=>g.toLowerCase()===t[0]?.english_translation?.toLowerCase())),{words:t,answers:e,correctAnswer:l}}),O(1)).subscribe({next:t=>{this.wordSets.update(e=>(e.push(M({},t)),[...e]))},error:t=>{}})}resetQuestion(){this.chosen=!1,this.answered=!1,this.chosenAnswer=void 0,this.isCorrect=!1,this.wordSets.update(t=>t.splice(1))}answeredClicked(t,e){!this.wordSets()[0].words[0]||this.answered||(this.chosenAnswer=e,this.chosen=!0)}checkAnswer(){this.chosen&&(this.answered=!0,typeof this.chosenAnswer=="number"&&this.chosenAnswer===this.wordSets()[0].correctAnswer?(this.handleAnswer(!0),this.hapticsService.vibrateSuccess()):(this.handleAnswer(!1),this.hapticsService.vibrateError()))}handleAnswer(t){t?this.localStorageService.addTranslationsPageSuccess():this.localStorageService.addTranslationsPageFailure(),this.isCorrect=t,this.answered=!0}getButtonColor(t){return!this.answered&&!this.chosen?"dark":this.chosen&&!this.answered&&t===this.chosenAnswer?"warning":t===this.wordSets()[0].correctAnswer&&this.answered&&this.chosen?"success":t===this.chosenAnswer?"danger":"dark"}getTextColor(){return this.answered?this.isCorrect?"success":"danger":"dark"}toggleGerman(t){this.localStorageService.setItem(S.GermanEnabled,t?.detail?.checked),this.chosen=!1,this.answered=!1,this.chosenAnswer=void 0,this.isCorrect=!1,this.wordSets.set([])}handleRefresh(){this.resetQuestion()}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=G({type:o,selectors:[["app-translations-tab",8,"page"]],attrs:ue,decls:15,vars:17,consts:[["modal",""],[3,"translucent"],["slot","primary"],["id","open-modal"],["color","dark","slot","icon-only","name","settings-outline"],[3,"forceOverscroll","fullscreen"],[1,"main-container"],[3,"isOpen","keyboardClose","backdropDismiss","handle","draggable","initialBreakpoint","breakpoints","backdropBreakpoint"],["trigger","open-modal",3,"canDismiss","initialBreakpoint","breakpoints"],[1,"word-container"],["color","dark"],[3,"animated"],[1,"question-container"],[1,"choices"],["slot","fixed",3,"ionRefresh"],[3,"color"],[3,"class","color"],[3,"click","color"],["shape","round",3,"disabled","class","color"],["shape","round",3,"click","disabled","color"],[1,"settings-list"],["helperText","Switches to choosing the correct German word based in a word in English.",3,"ionChange","ngModelChange","ngModel"]],template:function(e,l){e&1&&(a(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),m(3," Guess The Translation "),s(),a(4,"ion-buttons",2)(5,"ion-button",3),_(6,"ion-icon",4),s()()()(),a(7,"ion-content",5),T(8,Te,9,5,"div",6)(9,ye,11,7),s(),a(10,"ion-modal",7),v(11,Pe,1,1,"ng-template"),s(),a(12,"ion-modal",8,0),v(14,Me,4,1,"ng-template"),s()),e&2&&(d("translucent",!0),r(7),d("forceOverscroll",!1)("fullscreen",!0),r(),k(l.wordSets().length?9:8),r(2),d("isOpen",l.chosen)("keyboardClose",!1)("backdropDismiss",!1)("handle",!1)("draggable",!1)("initialBreakpoint",.15)("breakpoints",b(15,_e))("backdropBreakpoint",.5),r(2),d("canDismiss",!0)("initialBreakpoint",.25)("breakpoints",b(16,fe)))},dependencies:[K,U,ne,ie,Y,Z,te,z,q,Q,oe,X,J,re,H,N,$,ee,j],styles:[".article-card[_ngcontent-%COMP%]{display:inline-block;margin:0;box-shadow:1px 2px #888}ion-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:700}.word-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;align-items:center;font-weight:700;font-size:xx-large;color:var(--ion-color-dark-shade);flex-direction:column}.word-container[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]{width:150px;height:40px}.article-btn[_ngcontent-%COMP%]{font-weight:700;--box-shadow: 3px 5px #888}.next[_ngcontent-%COMP%]{font-weight:700;margin:12px}.translation-btn[_ngcontent-%COMP%]{margin-bottom:22px;font-size:10px}.main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);height:100%;justify-content:center;position:relative}.next-button[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;width:100%;display:flex;align-items:center;justify-content:end}.choices[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;padding:8px;width:100%}.choices[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]{height:50px}.question-container[_ngcontent-%COMP%]{width:100%;align-items:end;display:flex;margin-bottom:10vh}.settings-list[_ngcontent-%COMP%]{padding-top:24px;height:100%}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100%;justify-content:center;gap:8px}"]});let n=o;return n})();export{ze as TranslationsTabPage};
