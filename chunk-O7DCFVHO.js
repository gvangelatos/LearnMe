import{a as pe}from"./chunk-BAH4JPMI.js";import{a as de}from"./chunk-OIIXELEK.js";import{a as S,b as ge}from"./chunk-LJEDEAUD.js";import{a as se}from"./chunk-3GJPDCPF.js";import{a as le,h as ce}from"./chunk-C72IMCPG.js";import{$ as v,Aa as V,Ba as B,C as M,Ca as D,Da as F,Ga as k,Ha as C,Hb as z,Ja as L,Ka as R,Kb as H,L as s,Lb as Q,Ma as W,Ob as K,Pb as U,Qb as J,Rb as X,Sb as Y,U as A,Ub as Z,Va as j,Vb as ee,Y as T,Zb as te,aa as y,ac as ne,ba as O,bc as ie,ca as G,d as I,da as g,dc as oe,ea as l,fa as r,ga as w,gc as re,j as P,jb as N,jc as ae,ka as u,kb as $,la as _,ma as c,pb as q,t as f,v as h,w as m,wa as x,xa as p,za as b}from"./chunk-PONW3FBB.js";import"./chunk-XE773CCY.js";import"./chunk-WE77HQDE.js";import"./chunk-2GDOKXI3.js";import"./chunk-6O2VLVOF.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-2F44PKVT.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{a as E}from"./chunk-JHI3MBHO.js";var me=["class","page"],ue=()=>[.15,.5],_e=()=>[0,.25,.5,.75],fe=i=>({"german-translation":!0,shake:i}),we=i=>({"article-btn":!0,gelatin:i}),xe=i=>({next:!0,gelatin:i}),be=(i,o)=>o+"-"+i;function Ce(i,o){i&1&&(l(0,"div",6)(1,"ion-label"),p(2,"Getting you a word..."),r(),w(3,"ion-spinner",9),r())}function Se(i,o){if(i&1){let n=u();l(0,"ion-button",17),_("click",function(){let t=h(n),a=t.$implicit,d=t.$index,he=c(2);return m(he.answeredClicked(a,d))}),p(1),L(2,"titlecase"),r()}if(i&2){let n=o.$implicit,e=o.$index,t=c(2);x(C(6,we,t.chosenAnswer===e)),g("color",t.getButtonColor(e)),s(),b(" ",R(2,4,n)," ")}}function Te(i,o){if(i&1){let n=u();l(0,"ion-refresher",10),_("ionRefresh",function(){h(n);let t=c();return m(t.handleRefresh())}),w(1,"ion-refresher-content"),r(),l(2,"div",11)(3,"div",12)(4,"ion-text",13)(5,"div"),p(6),r()()(),l(7,"div",14)(8,"div",15),O(9,Se,3,8,"ion-button",16,be),r()()()}if(i&2){let n=c();s(4),g("color",n.getTextColor()),s(),x(C(5,fe,!n.isCorrect&&n.answered)),s(),V(" ",n.wordSets()[0].words[0].article&&!n.germanEnabled?n.wordSets()[0].words[0].article+" ":"","",n.germanEnabled?n.wordSets()[0].words[0].english_translation:n.wordSets()[0].words[0].german_translation," "),s(3),G(n.wordSets()[0].answers)}}function ve(i,o){if(i&1){let n=u();l(0,"ion-button",19),_("click",function(){h(n);let t=c(2);return m(t.answered?t.handleRefresh():t.checkAnswer())}),p(1),r()}if(i&2){let n=c(2);x(C(5,xe,n.answered)),g("disabled",!n.answered&&!n.chosen)("color",n.getTextColor()),s(),b(" ",n.answered?"Next":"Check"," ")}}function ye(i,o){if(i&1&&v(0,ve,2,7,"ion-button",18),i&2){let n=c();y(n.chosen?0:-1)}}function ke(i,o){if(i&1){let n=u();l(0,"ion-list",20)(1,"ion-item")(2,"ion-toggle",21),_("ionChange",function(t){h(n);let a=c();return m(a.toggleGerman(t))}),F("ngModelChange",function(t){h(n);let a=c();return D(a.germanEnabled,t)||(a.germanEnabled=t),m(t)}),p(3),r()()()}if(i&2){let n=c();s(2),B("ngModel",n.germanEnabled),s(),b(" Switch to German ",n.germanEnabled," ")}}var Ee=3,Ne=(()=>{let o=class o{constructor(){this.gsApiService=f(de),this.utilityService=f(pe),this.localStorageService=f(ge),this.wordSets=M([]),this.isCorrect=!1,this.answered=!1,this.chosen=!1,this.germanEnabled=!1,this.getIsGermanEnabledStorageData(),se({arrowForwardOutline:le,settingsOutline:ce}),W(()=>{this.wordSets().length<Ee&&this.getWordsSet()})}getIsGermanEnabledStorageData(){let e=this.localStorageService.getItem(S.GermanEnabled);e===null?(this.germanEnabled=!1,this.localStorageService.setItem(S.GermanEnabled,!1)):this.germanEnabled=e}getWordsSet(){this.gsApiService.getRandomWords().pipe(I(e=>{let t,a;return this.germanEnabled?(t=this.utilityService.shuffleArray(e.map(d=>d.german_translation)),a=t.findIndex(d=>d.toLowerCase()===e[0]?.german_translation?.toLowerCase())):(t=this.utilityService.shuffleArray(e.map(d=>d.english_translation)),a=t.findIndex(d=>d.toLowerCase()===e[0]?.english_translation?.toLowerCase())),{words:e,answers:t,correctAnswer:a}}),P(1)).subscribe({next:e=>{this.wordSets.update(t=>(t.push(E({},e)),[...t]))},error:e=>{}})}resetQuestion(){this.chosen=!1,this.answered=!1,this.chosenAnswer=void 0,this.isCorrect=!1,this.wordSets.update(e=>e.splice(1))}answeredClicked(e,t){!this.wordSets()[0].words[0]||this.answered||(this.chosenAnswer=t,this.chosen=!0)}checkAnswer(){this.chosen&&(this.answered=!0,typeof this.chosenAnswer=="number"&&this.chosenAnswer===this.wordSets()[0].correctAnswer?this.handleAnswer(!0):this.handleAnswer(!1))}handleAnswer(e){e?this.localStorageService.addTranslationsPageSuccess():this.localStorageService.addTranslationsPageFailure(),this.isCorrect=e,this.answered=!0}getButtonColor(e){return!this.answered&&!this.chosen?"dark":this.chosen&&!this.answered&&e===this.chosenAnswer?"warning":e===this.wordSets()[0].correctAnswer&&this.answered&&this.chosen?"success":e===this.chosenAnswer?"danger":"dark"}getTextColor(){return this.answered?this.isCorrect?"success":"danger":"dark"}toggleGerman(e){console.log(e?.detail?.checked),this.localStorageService.setItem(S.GermanEnabled,e?.detail?.checked),this.chosen=!1,this.answered=!1,this.chosenAnswer=void 0,this.isCorrect=!1,this.wordSets.set([])}handleRefresh(){this.resetQuestion()}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=A({type:o,selectors:[["app-translations-tab",8,"page"]],attrs:me,decls:15,vars:17,consts:[["modal",""],[3,"translucent"],["slot","primary"],["id","open-modal"],["color","dark","slot","icon-only","name","settings-outline"],[3,"forceOverscroll","fullscreen"],[1,"spinner-container"],[3,"isOpen","keyboardClose","backdropDismiss","handle","draggable","initialBreakpoint","breakpoints","backdropBreakpoint"],["trigger","open-modal",3,"canDismiss","initialBreakpoint","breakpoints"],["name","lines-sharp"],["slot","fixed",3,"ionRefresh"],[1,"main-container"],[1,"word-container"],[3,"color"],[1,"question-container"],[1,"choices"],[3,"class","color"],[3,"click","color"],["shape","round",3,"disabled","class","color"],["shape","round",3,"click","disabled","color"],[1,"settings-list"],["helperText","Switches to choosing the correct German word based in a word in English.",3,"ionChange","ngModelChange","ngModel"]],template:function(t,a){t&1&&(l(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),p(3," Guess The Translation "),r(),l(4,"ion-buttons",2)(5,"ion-button",3),w(6,"ion-icon",4),r()()()(),l(7,"ion-content",5),v(8,Ce,4,0,"div",6)(9,Te,11,7),r(),l(10,"ion-modal",7),T(11,ye,1,1,"ng-template"),r(),l(12,"ion-modal",8,0),T(14,ke,4,2,"ng-template"),r()),t&2&&(g("translucent",!0),s(7),g("forceOverscroll",!1)("fullscreen",!0),s(),y(a.wordSets().length?9:8),s(2),g("isOpen",a.chosen)("keyboardClose",!1)("backdropDismiss",!1)("handle",!1)("draggable",!1)("initialBreakpoint",.15)("breakpoints",k(15,ue))("backdropBreakpoint",.5),s(2),g("canDismiss",!0)("initialBreakpoint",.25)("breakpoints",k(16,_e)))},dependencies:[K,U,ie,oe,X,te,Z,ee,ne,H,z,Q,re,Y,J,ae,q,N,$,j],styles:[".article-card[_ngcontent-%COMP%]{display:inline-block;margin:0;box-shadow:1px 2px #888}ion-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:700}.word-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;align-items:center;font-weight:700;font-size:xx-large;color:var(--ion-color-dark-shade);flex-direction:column}.article-btn[_ngcontent-%COMP%]{font-weight:700;--box-shadow: 3px 5px #888}.next[_ngcontent-%COMP%]{font-weight:700;margin:12px}.translation-btn[_ngcontent-%COMP%]{margin-bottom:22px;font-size:10px}.main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);height:100%;justify-content:center;position:relative}.next-button[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;width:100%;display:flex;align-items:center;justify-content:end}.choices[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;padding:8px;width:100%}.question-container[_ngcontent-%COMP%]{width:100%;align-items:end;display:flex;margin-bottom:10vh}.settings-list[_ngcontent-%COMP%]{padding-top:24px;height:100%}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100%;justify-content:center;gap:8px}"]});let i=o;return i})();export{Ne as TranslationsTabPage};
