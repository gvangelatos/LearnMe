import{a as N}from"./chunk-NV3BJ2B3.js";import{b as q}from"./chunk-KL2RSWLH.js";import{a as z}from"./chunk-3GJPDCPF.js";import{a as B,f as G}from"./chunk-77RKG7JI.js";import{$ as w,C as b,Ea as A,Fb as O,Ja as k,Jb as E,Kb as M,L as s,Mb as R,Oa as I,Pb as L,Qb as V,U as T,Ub as D,Xb as W,Yb as j,_b as F,aa as x,ba as S,bc as $,ca as P,da as d,ea as a,fa as r,ga as g,ka as m,la as f,ma as l,t as _,v as p,w as u,xa as h,ya as y,za as C}from"./chunk-RMQJIU2P.js";import"./chunk-ZO533RPQ.js";import"./chunk-CEKJCJ5E.js";import"./chunk-HF35MVHV.js";import"./chunk-65LW6U7E.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-H3Z6NBHK.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";var v=["Der","Die","Das","Die (Plural)"];var J=n=>({show:n}),K=(n,o)=>o+"-"+n;function U(n,o){n&1&&(a(0,"div",2)(1,"ion-label"),h(2,"Getting you a word..."),r(),g(3,"ion-spinner",3),r())}function X(n,o){if(n&1){let i=m();a(0,"ion-button",16),f("click",function(){let t=p(i),c=t.$implicit,Q=t.$index,H=l(2);return u(H.answeredClicked(c,Q))}),h(1),r()}if(n&2){let i=o.$implicit,e=o.$index,t=l(2);d("color",t.getButtonColor(e)),s(),C(" ",i," ")}}function Y(n,o){if(n&1){let i=m();a(0,"div",15)(1,"ion-button",17),f("click",function(){p(i);let t=l(2);return u(t.handleRefresh())}),h(2," Next "),g(3,"ion-icon",18),r()()}if(n&2){let i=l(2);s(),d("color",i.getTextColor())}}function Z(n,o){if(n&1){let i=m();a(0,"ion-refresher",4),f("ionRefresh",function(){p(i);let t=l();return u(t.handleRefresh())}),g(1,"ion-refresher-content"),r(),a(2,"div",5)(3,"div",6)(4,"div")(5,"ion-text",7)(6,"span",8),h(7),r()(),a(8,"ion-button",9),f("click",function(){p(i);let t=l();return u(t.toggleTranslationShow())}),g(9,"ion-icon",10),r()(),a(10,"div")(11,"span",11),h(12),r()()(),a(13,"div",12)(14,"div",13),S(15,X,2,2,"ion-button",14,K),r()(),w(17,Y,4,1,"div",15),r()}if(n&2){let i=l();s(5),d("color",i.getTextColor()),s(2),y(i.words()[0].german_translation),s(4),d("ngClass",A(5,J,i.showTranslation)),s(),C(' "',i.words()[0].english_translation,'" '),s(3),P(i.ARTICLES),s(2),x(i.answered?17:-1)}}var he=(()=>{let o=class o{constructor(){this.gsApiService=_(N),this.localStorageService=_(q),this.words=b([]),this.isCorrect=!1,this.answered=!1,this.showTranslation=!1,this.ARTICLES=v,z({languageOutline:G,arrowForwardOutline:B}),k(()=>{this.words().length<3&&this.makeWordCall()})}makeWordCall(){this.gsApiService.getRandomWordsWithArticle(10).subscribe({next:e=>{this.words.update(t=>t.concat(e)),this.setCorrectWord()},error:e=>{}})}setCorrectWord(){if(this.words()[0]?.isPlural)this.correctAnswer=3;else{let t=v.filter(c=>!c.toLowerCase().includes("plural")).findIndex(c=>this.words()[0]?.article?.toLowerCase().includes(c.toLowerCase()));t>-1&&(this.correctAnswer=t)}}answeredClicked(e,t){!this.words()[0]||this.answered||(this.chosenAnswer=t,e.toLowerCase().includes("plural")&&this.words()[0].isPlural?this.handleAnswer(!0):this.words()[0].article?.toLowerCase().includes(e.toLowerCase())?this.handleAnswer(!0):this.handleAnswer(!1))}toggleTranslationShow(){this.showTranslation=!this.showTranslation}handleAnswer(e){e?this.localStorageService.addArticlesPageSuccess():this.localStorageService.addArticlesPageFailure(),this.isCorrect=e,this.answered=!0,this.showTranslation=!0}getTextColor(){return this.answered?this.isCorrect?"success":"danger":"dark"}resetQuestion(){this.showTranslation=!1,this.isCorrect=!1,this.answered=!1,this.correctAnswer=void 0,this.chosenAnswer=void 0,this.words.update(e=>e.slice(1)),this.setCorrectWord()}getButtonColor(e){return this.answered?e===this.correctAnswer?"success":e===this.chosenAnswer?"danger":"dark":"dark"}handleRefresh(){this.resetQuestion()}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=T({type:o,selectors:[["app-articles-tab"]],decls:7,vars:4,consts:[[3,"translucent"],[3,"forceOverscroll","fullscreen"],[1,"spinner-container"],["name","lines-sharp"],["slot","fixed",3,"ionRefresh"],[1,"main-container"],[1,"word-container"],[3,"color"],[1,"german-translation"],["id","click-trigger","size","small","fill","outline","shape","round","color","dark",1,"translation-btn",3,"click"],["slot","icon-only","name","language-outline"],[1,"english-translation",3,"ngClass"],[1,"question-container"],[1,"choices"],[1,"article-btn",3,"color"],[1,"next-button"],[1,"article-btn",3,"click","color"],["shape","round",1,"next",3,"click","color"],["slot","end","name","arrow-forward-outline"]],template:function(t,c){t&1&&(a(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),h(3," Guess The Articles "),r()()(),a(4,"ion-content",1),w(5,U,4,0,"div",2)(6,Z,18,7),r()),t&2&&(d("translucent",!0),s(4),d("forceOverscroll",!1)("fullscreen",!0),s(),x(c.words().length?6:5))},dependencies:[M,F,j,E,O,D,R,$,I,W,L,V],styles:[".article-card[_ngcontent-%COMP%]{display:inline-block;margin:0;box-shadow:1px 2px #888}ion-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:700}.word-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;align-items:center;font-weight:700;font-size:xx-large;color:var(--ion-color-dark-shade);flex-direction:column}.article-btn[_ngcontent-%COMP%]{font-weight:700;--box-shadow: 3px 5px #888}.next[_ngcontent-%COMP%]{font-weight:700}.translation-btn[_ngcontent-%COMP%]{margin-bottom:22px;font-size:10px}.main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);height:100%;justify-content:center;position:relative}.next-button[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;width:100%;display:flex;align-items:center;justify-content:end}.choices[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;padding:8px;width:100%}.question-container[_ngcontent-%COMP%]{width:100%;align-items:end;display:flex;margin-bottom:10vh}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100%;justify-content:center;gap:8px}.english-translation[_ngcontent-%COMP%]{clip-path:inset(50% round 50%);transition:clip-path .5s;padding:5px;font-size:x-large;font-weight:400}.english-translation.show[_ngcontent-%COMP%]{clip-path:inset(0% round 0%)}"]});let n=o;return n})();export{he as Tab2Page};
