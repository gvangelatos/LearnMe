import{a as H}from"./chunk-UTBVLR33.js";import{b as J}from"./chunk-LJEDEAUD.js";import{a as N}from"./chunk-3GJPDCPF.js";import{a as q,f as Q}from"./chunk-C72IMCPG.js";import{$ as T,C as k,Ga as I,Ha as m,Hb as E,Kb as R,L as s,Ma as M,Ob as L,Pb as V,Ra as O,Rb as F,U as y,Ub as D,Vb as B,Y as A,Zb as W,aa as v,ac as j,ba as S,bc as $,ca as P,da as d,dc as z,ea as a,fa as r,ga as w,gc as G,ka as x,la as g,ma as l,t as b,v as p,w as u,wa as C,xa as h,za as f}from"./chunk-PONW3FBB.js";import"./chunk-XE773CCY.js";import"./chunk-WE77HQDE.js";import"./chunk-2GDOKXI3.js";import"./chunk-6O2VLVOF.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-2F44PKVT.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";var _=["Der","Die","Das","Die (Plural)"];var X=()=>[.15,.5],Y=e=>({"german-translation":!0,shake:e}),Z=e=>({show:e}),ee=e=>({"article-btn":!0,gelatin:e}),te=e=>({next:!0,gelatin:e}),ne=(e,o)=>o+"-"+e;function ie(e,o){e&1&&(a(0,"div",3)(1,"ion-label"),h(2,"Getting you a word..."),r(),w(3,"ion-spinner",5),r())}function oe(e,o){if(e&1){let n=x();a(0,"ion-button",17),g("click",function(){let t=p(n),c=t.$implicit,K=t.$index,U=l(2);return u(U.answeredClicked(c,K))}),h(1),r()}if(e&2){let n=o.$implicit,i=o.$index,t=l(2);C(m(4,ee,t.chosenAnswer===i)),d("color",t.getButtonColor(i)),s(),f(" ",n," ")}}function re(e,o){if(e&1){let n=x();a(0,"ion-refresher",6),g("ionRefresh",function(){p(n);let t=l();return u(t.handleRefresh())}),w(1,"ion-refresher-content"),r(),a(2,"div",7)(3,"div",8)(4,"div",9)(5,"ion-text",10)(6,"div"),h(7),r()(),a(8,"ion-button",11),g("click",function(){p(n);let t=l();return u(t.toggleTranslationShow())}),w(9,"ion-icon",12),r()(),a(10,"div")(11,"span",13),h(12),r()()(),a(13,"div",14)(14,"div",15),S(15,oe,2,6,"ion-button",16,ne),r()()()}if(e&2){let n=l();s(5),d("color",n.getTextColor()),s(),C(m(6,Y,!n.isCorrect&&n.answered)),s(),f(" ",n.words()[0].german_translation," "),s(4),d("ngClass",m(8,Z,n.showTranslation)),s(),f(' "',n.words()[0].english_translation,'" '),s(3),P(n.ARTICLES)}}function se(e,o){if(e&1){let n=x();a(0,"ion-button",19),g("click",function(){p(n);let t=l(2);return u(t.answered?t.handleRefresh():t.checkAnswer())}),h(1),r()}if(e&2){let n=l(2);C(m(5,te,n.answered)),d("disabled",!n.chosen&&!n.answered)("color",n.getTextColor()),s(),f(" ",n.answered?"Next":"Check"," ")}}function ae(e,o){if(e&1&&T(0,se,2,7,"ion-button",18),e&2){let n=l();v(n.chosen?0:-1)}}var xe=(()=>{let o=class o{constructor(){this.gsApiService=b(H),this.localStorageService=b(J),this.words=k([]),this.isCorrect=!1,this.answered=!1,this.showTranslation=!1,this.chosen=!1,this.ARTICLES=_,N({languageOutline:Q,arrowForwardOutline:q}),M(()=>{this.words().length<3&&this.makeWordCall()})}makeWordCall(){this.gsApiService.getRandomWordsWithArticle(5).subscribe({next:i=>{this.words.update(t=>t.concat(i)),this.setCorrectWord()},error:i=>{}})}setCorrectWord(){if(this.words()[0]?.isPlural)this.correctAnswer=3;else{let t=_.filter(c=>!c.toLowerCase().includes("plural")).findIndex(c=>this.words()[0]?.article?.toLowerCase().includes(c.toLowerCase()));t>-1&&(this.correctAnswer=t)}}answeredClicked(i,t){!this.words()[0]||this.answered||(this.chosenAnswer=t,this.chosen=!0)}checkAnswer(){this.chosen&&(this.answered=!0,typeof this.chosenAnswer=="number"&&_[this.chosenAnswer].toLowerCase().includes("plural")&&this.words()[0].isPlural?this.handleAnswer(!0):typeof this.chosenAnswer=="number"&&this.words()[0].article?.toLowerCase().includes(_[this.chosenAnswer].toLowerCase())&&!this.words()[0].isPlural?this.handleAnswer(!0):this.handleAnswer(!1))}toggleTranslationShow(){this.showTranslation=!this.showTranslation}handleAnswer(i){i?this.localStorageService.addArticlesPageSuccess():this.localStorageService.addArticlesPageFailure(),this.isCorrect=i,this.answered=!0,this.showTranslation=!0}getTextColor(){return this.answered?this.isCorrect?"success":"danger":"dark"}resetQuestion(){this.chosen=!1,this.showTranslation=!1,this.isCorrect=!1,this.answered=!1,this.correctAnswer=void 0,this.chosenAnswer=void 0,this.words.update(i=>i.slice(1)),this.setCorrectWord()}getButtonColor(i){return!this.answered&&!this.chosen?"dark":this.chosen&&!this.answered&&i===this.chosenAnswer?"warning":i===this.correctAnswer&&this.answered&&this.chosen?"success":i===this.chosenAnswer?"danger":"dark"}handleRefresh(){this.resetQuestion()}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=y({type:o,selectors:[["app-articles-tab"]],decls:10,vars:13,consts:[["modal",""],[3,"translucent"],[3,"forceOverscroll","fullscreen"],[1,"spinner-container"],["trigger","open-modal",3,"isOpen","keyboardClose","backdropDismiss","handle","draggable","initialBreakpoint","breakpoints","backdropBreakpoint"],["name","lines-sharp"],["slot","fixed",3,"ionRefresh"],[1,"main-container"],[1,"word-container"],[1,"word-icon-container"],[3,"color"],["id","click-trigger","size","small","fill","outline","shape","round","color","dark",1,"translation-btn",3,"click"],["slot","icon-only","name","language-outline"],[1,"english-translation",3,"ngClass"],[1,"question-container"],[1,"choices"],[3,"class","color"],[3,"click","color"],["shape","round",3,"disabled","class","color"],["shape","round",3,"click","disabled","color"]],template:function(t,c){t&1&&(a(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),h(3," Guess The Articles "),r()()(),a(4,"ion-content",2),T(5,ie,4,0,"div",3)(6,re,17,10),r(),a(7,"ion-modal",4,0),A(9,ae,1,1,"ng-template"),r()),t&2&&(d("translucent",!0),s(4),d("forceOverscroll",!1)("fullscreen",!0),s(),v(c.words().length?6:5),s(2),d("isOpen",c.chosen)("keyboardClose",!1)("backdropDismiss",!1)("handle",!1)("draggable",!1)("initialBreakpoint",.15)("breakpoints",I(12,X))("backdropBreakpoint",.5))},dependencies:[V,z,$,L,R,W,F,G,O,j,D,B,E],styles:[".article-card[_ngcontent-%COMP%]{display:inline-block;margin:0;box-shadow:1px 2px #888}ion-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:700}.word-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;align-items:center;font-weight:700;font-size:xx-large;color:var(--ion-color-dark-shade);flex-direction:column}.word-icon-container[_ngcontent-%COMP%]{display:flex;gap:4px}.article-btn[_ngcontent-%COMP%]{font-weight:700;--box-shadow: 3px 5px #888}.next[_ngcontent-%COMP%]{font-weight:700;margin:12px}.translation-btn[_ngcontent-%COMP%]{margin-bottom:22px;font-size:10px}.main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);height:100%;justify-content:center;position:relative}.next-button[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;width:100%;display:flex;align-items:center;justify-content:end}.choices[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;padding:8px;width:100%}.question-container[_ngcontent-%COMP%]{width:100%;align-items:end;display:flex;margin-bottom:10vh}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100%;justify-content:center;gap:8px}.english-translation[_ngcontent-%COMP%]{clip-path:inset(50% round 50%);padding:5px;font-size:x-large;font-weight:400}.english-translation.show[_ngcontent-%COMP%]{clip-path:inset(0% round 0%)}"]});let e=o;return e})();export{xe as Tab2Page};
