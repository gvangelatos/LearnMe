import{p as h}from"./chunk-6KAUTADS.js";import{a as o,b as i}from"./chunk-JHI3MBHO.js";var a=(function(r){return r.SwiperPage="swiperPageStatistics",r.SearchPage="searchPageStatistics",r.ArticlesPage="articlesPageStatistics",r})(a||{}),g={totalSuccesses:0,totalFails:0,byMonth:{}};var p=(()=>{let c=class c{setItem(e,t){let s=JSON.stringify(t);localStorage.setItem(e,s)}getItem(e){try{let t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.error("Error reading from local storage",t),null}}removeItem(e){localStorage.removeItem(e)}addSwiperPageFailure(){let e=this.handleLocalStorageDataRetrieval(a.SwiperPage);this.applyPageFailure(a.SwiperPage,e)}addArticlesPageSuccess(){let e=this.handleLocalStorageDataRetrieval(a.ArticlesPage);this.applyPageSuccess(a.ArticlesPage,e)}addArticlesPageFailure(){let e=this.handleLocalStorageDataRetrieval(a.ArticlesPage);this.applyPageFailure(a.ArticlesPage,e)}addSwiperPageSuccess(){let e=this.handleLocalStorageDataRetrieval(a.SwiperPage);this.applyPageSuccess(a.SwiperPage,e)}applyPageSuccess(e,t){let s=this.getYearMonth(),l=t.byMonth[s]??{successes:0,fails:0},n=i(o({},t),{totalSuccesses:t.totalSuccesses+1,byMonth:i(o({},t.byMonth),{[s]:i(o({},l),{successes:l.successes+1})})});this.setItem(e,n)}applyPageFailure(e,t){let s=this.getYearMonth(),l=t.byMonth[s]??{successes:0,fails:0},n=i(o({},t),{totalFails:t.totalFails+1,byMonth:i(o({},t.byMonth),{[s]:i(o({},l),{fails:l.fails+1})})});this.setItem(e,n)}getYearMonth(e=new Date){let t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0");return`${t}-${s}`}handleLocalStorageDataRetrieval(e){let t=this.getItem(e);return t||(this.setItem(e,g),t=g),t}clear(){localStorage.clear()}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=h({token:c,factory:c.\u0275fac,providedIn:"root"});let r=c;return r})();export{p as a};
