import{a as Q}from"./chunk-NV3BJ2B3.js";import{b as H}from"./chunk-KL2RSWLH.js";import{a as G}from"./chunk-3GJPDCPF.js";import{a as N,f as q}from"./chunk-77RKG7JI.js";import{$ as v,C,Cb as M,Ea as A,Fb as E,Ja as I,Jb as R,Kb as L,L as a,Mb as V,Oa as O,Pb as D,Qb as W,U as b,Ub as j,Xb as F,Y as T,Yb as $,_b as B,aa as S,ba as y,bc as z,ca as k,da as c,ea as s,fa as o,ga as u,ka as m,la as f,ma as d,t as _,v as p,w as g,xa as h,ya as P,za as w}from"./chunk-RMQJIU2P.js";import"./chunk-ZO533RPQ.js";import"./chunk-CEKJCJ5E.js";import"./chunk-HF35MVHV.js";import"./chunk-65LW6U7E.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-H3Z6NBHK.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";var x=["Der","Die","Das","Die (Plural)"];var U=n=>({show:n}),X=(n,r)=>r+"-"+n;function Y(n,r){n&1&&(s(0,"div",3)(1,"ion-label"),h(2,"Getting you a word..."),o(),u(3,"ion-spinner",5),o())}function Z(n,r){if(n&1){let i=m();s(0,"ion-button",17),f("click",function(){let t=p(i),l=t.$implicit,J=t.$index,K=d(2);return g(K.answeredClicked(l,J))}),h(1),o()}if(n&2){let i=r.$implicit,e=r.$index,t=d(2);c("color",t.getButtonColor(e)),a(),w(" ",i," ")}}function ee(n,r){if(n&1){let i=m();s(0,"ion-refresher",6),f("ionRefresh",function(){p(i);let t=d();return g(t.handleRefresh())}),u(1,"ion-refresher-content"),o(),s(2,"div",7)(3,"div",8)(4,"div")(5,"ion-text",9)(6,"span",10),h(7),o()(),s(8,"ion-button",11),f("click",function(){p(i);let t=d();return g(t.toggleTranslationShow())}),u(9,"ion-icon",12),o()(),s(10,"div")(11,"span",13),h(12),o()()(),s(13,"div",14)(14,"div",15),y(15,Z,2,2,"ion-button",16,X),o()()()}if(n&2){let i=d();a(5),c("color",i.getTextColor()),a(2),P(i.words()[0].german_translation),a(4),c("ngClass",A(4,U,i.showTranslation)),a(),w(' "',i.words()[0].english_translation,'" '),a(3),k(i.ARTICLES)}}function te(n,r){if(n&1){let i=m();s(0,"ion-button",18),f("click",function(){p(i);let t=d();return g(t.handleRefresh())}),h(1," Next "),o()}if(n&2){let i=d();c("color",i.getTextColor())}}var ge=(()=>{let r=class r{constructor(){this.gsApiService=_(Q),this.localStorageService=_(H),this.words=C([]),this.isCorrect=!1,this.answered=!1,this.showTranslation=!1,this.ARTICLES=x,G({languageOutline:q,arrowForwardOutline:N}),I(()=>{this.words().length<3&&this.makeWordCall()})}makeWordCall(){this.gsApiService.getRandomWordsWithArticle(10).subscribe({next:e=>{this.words.update(t=>t.concat(e)),this.setCorrectWord()},error:e=>{}})}setCorrectWord(){if(this.words()[0]?.isPlural)this.correctAnswer=3;else{let t=x.filter(l=>!l.toLowerCase().includes("plural")).findIndex(l=>this.words()[0]?.article?.toLowerCase().includes(l.toLowerCase()));t>-1&&(this.correctAnswer=t)}}answeredClicked(e,t){!this.words()[0]||this.answered||(this.chosenAnswer=t,e.toLowerCase().includes("plural")&&this.words()[0].isPlural?this.handleAnswer(!0):this.words()[0].article?.toLowerCase().includes(e.toLowerCase())?this.handleAnswer(!0):this.handleAnswer(!1))}toggleTranslationShow(){this.showTranslation=!this.showTranslation}handleAnswer(e){e?this.localStorageService.addArticlesPageSuccess():this.localStorageService.addArticlesPageFailure(),this.isCorrect=e,this.answered=!0,this.showTranslation=!0}getTextColor(){return this.answered?this.isCorrect?"success":"danger":"dark"}resetQuestion(){this.showTranslation=!1,this.isCorrect=!1,this.answered=!1,this.correctAnswer=void 0,this.chosenAnswer=void 0,this.words.update(e=>e.slice(1)),this.setCorrectWord()}getButtonColor(e){return this.answered?e===this.correctAnswer?"success":e===this.chosenAnswer?"danger":"dark":"dark"}handleRefresh(){this.resetQuestion()}};r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=b({type:r,selectors:[["app-articles-tab"]],decls:10,vars:10,consts:[["modal",""],[3,"translucent"],[3,"forceOverscroll","fullscreen"],[1,"spinner-container"],["trigger","open-modal",3,"isOpen","keyboardClose","backdropDismiss","handle","draggable","initialBreakpoint"],["name","lines-sharp"],["slot","fixed",3,"ionRefresh"],[1,"main-container"],[1,"word-container"],[3,"color"],[1,"german-translation"],["id","click-trigger","size","small","fill","outline","shape","round","color","dark",1,"translation-btn",3,"click"],["slot","icon-only","name","language-outline"],[1,"english-translation",3,"ngClass"],[1,"question-container"],[1,"choices"],[1,"article-btn",3,"color"],[1,"article-btn",3,"click","color"],["shape","round",1,"next",3,"click","color"]],template:function(t,l){t&1&&(s(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),h(3," Guess The Articles "),o()()(),s(4,"ion-content",2),v(5,Y,4,0,"div",3)(6,ee,17,6),o(),s(7,"ion-modal",4,0),T(9,te,2,1,"ng-template"),o()),t&2&&(c("translucent",!0),a(4),c("forceOverscroll",!1)("fullscreen",!0),a(),S(l.words().length?6:5),a(2),c("isOpen",l.answered)("keyboardClose",!1)("backdropDismiss",!1)("handle",!1)("draggable",!1)("initialBreakpoint",.15))},dependencies:[L,B,$,R,E,j,V,z,O,F,D,W,M],styles:[".article-card[_ngcontent-%COMP%]{display:inline-block;margin:0;box-shadow:1px 2px #888}ion-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:700}.word-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;align-items:center;font-weight:700;font-size:xx-large;color:var(--ion-color-dark-shade);flex-direction:column}.article-btn[_ngcontent-%COMP%]{font-weight:700;--box-shadow: 3px 5px #888}.next[_ngcontent-%COMP%]{font-weight:700}.translation-btn[_ngcontent-%COMP%]{margin-bottom:22px;font-size:10px}.main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);height:100%;justify-content:center;position:relative}.next-button[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;width:100%;display:flex;align-items:center;justify-content:end}.choices[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;padding:8px;width:100%}.question-container[_ngcontent-%COMP%]{width:100%;align-items:end;display:flex;margin-bottom:10vh}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100%;justify-content:center;gap:8px}.english-translation[_ngcontent-%COMP%]{clip-path:inset(50% round 50%);padding:5px;font-size:x-large;font-weight:400}.english-translation.show[_ngcontent-%COMP%]{clip-path:inset(0% round 0%)}"]});let n=r;return n})();export{ge as Tab2Page};
