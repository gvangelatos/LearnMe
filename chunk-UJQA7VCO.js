import{q as g}from"./chunk-XIUOWS3T.js";import{a as r,b as c}from"./chunk-JHI3MBHO.js";var s=(function(h){return h.SwiperPage="swiperPageStatistics",h.SearchPage="searchPageStatistics",h.ArticlesPage="articlesPageStatistics",h})(s||{}),i={totalSuccesses:0,totalFails:0,byMonth:{}},S={totalSearches:0,totalEmptySearches:0,totalSuccessSearches:0,byMonth:{}};var p=(()=>{let n=class n{setItem(e,t){let a=JSON.stringify(t);localStorage.setItem(e,a)}getItem(e){try{let t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.error("Error reading from local storage",t),null}}removeItem(e){localStorage.removeItem(e)}addSwiperPageFailure(){let e=this.handleLocalStorageDataRetrieval(s.SwiperPage);this.applyPageFailure(s.SwiperPage,e)}addSearchPageSearch(e){let t=this.handleSearchPageLocalStorageDataRetrieval();e?this.applySearchPageIncrementEmpty(t):this.applySearchPageIncrement(t)}addArticlesPageSuccess(){let e=this.handleLocalStorageDataRetrieval(s.ArticlesPage);this.applyPageSuccess(s.ArticlesPage,e)}addArticlesPageFailure(){let e=this.handleLocalStorageDataRetrieval(s.ArticlesPage);this.applyPageFailure(s.ArticlesPage,e)}addSwiperPageSuccess(){let e=this.handleLocalStorageDataRetrieval(s.SwiperPage);this.applyPageSuccess(s.SwiperPage,e)}applySearchPageIncrement(e){let t=this.getYearMonth(),a=e.byMonth[t]??{searches:0,successSearches:0,emptySearches:0},o=c(r({},e),{totalSearches:e.totalSearches+1,totalSuccessSearches:e.totalSuccessSearches+1,byMonth:c(r({},e.byMonth),{[t]:c(r({},a),{searches:a.searches+1,successSearches:a.successSearches+1})})});this.setItem(s.SearchPage,o)}applySearchPageIncrementEmpty(e){let t=this.getYearMonth(),a=e.byMonth[t]??{searches:0,successSearches:0,emptySearches:0},o=c(r({},e),{totalSearches:e.totalSearches+1,totalEmptySearches:e.totalEmptySearches+1,byMonth:c(r({},e.byMonth),{[t]:c(r({},a),{searches:a.searches+1,emptySearches:a.emptySearches+1})})});this.setItem(s.SearchPage,o)}applyPageSuccess(e,t){let a=this.getYearMonth(),o=t.byMonth[a]??{successes:0,fails:0},l=c(r({},t),{totalSuccesses:t.totalSuccesses+1,byMonth:c(r({},t.byMonth),{[a]:c(r({},o),{successes:o.successes+1})})});this.setItem(e,l)}applyPageFailure(e,t){let a=this.getYearMonth(),o=t.byMonth[a]??{successes:0,fails:0},l=c(r({},t),{totalFails:t.totalFails+1,byMonth:c(r({},t.byMonth),{[a]:c(r({},o),{fails:o.fails+1})})});this.setItem(e,l)}getYearMonth(e=new Date){let t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0");return`${t}-${a}`}handleLocalStorageDataRetrieval(e){let t=this.getItem(e);return t||(this.setItem(e,i),t=i),t}handleSearchPageLocalStorageDataRetrieval(){let e=this.getItem(s.SearchPage);return e||(this.setItem(s.SearchPage,S),e=S),e}clear(){localStorage.clear()}};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g({token:n,factory:n.\u0275fac,providedIn:"root"});let h=n;return h})();export{s as a,p as b};
