import{q as g}from"./chunk-33V6LGE3.js";import{a as r,b as c}from"./chunk-JHI3MBHO.js";var a=(function(o){return o.SwiperPage="swiperPageStatistics",o.SearchPage="searchPageStatistics",o.ArticlesPage="articlesPageStatistics",o.TranslationsPage="translationsPageStatistics",o})(a||{}),i={totalSuccesses:0,totalFails:0,byMonth:{}},S={totalSearches:0,totalEmptySearches:0,totalSuccessSearches:0,byMonth:{}};var y=(()=>{let l=class l{setItem(e,t){let s=JSON.stringify(t);localStorage.setItem(e,s)}getItem(e){try{let t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.error("Error reading from local storage",t),null}}removeItem(e){localStorage.removeItem(e)}addSwiperPageFailure(){let e=this.handleLocalStorageDataRetrieval(a.SwiperPage);this.applyPageFailure(a.SwiperPage,e)}addSearchPageSearch(e){let t=this.handleSearchPageLocalStorageDataRetrieval();e?this.applySearchPageIncrementEmpty(t):this.applySearchPageIncrement(t)}addTranslationsPageSuccess(){let e=this.handleLocalStorageDataRetrieval(a.TranslationsPage);this.applyPageSuccess(a.TranslationsPage,e)}addTranslationsPageFailure(){let e=this.handleLocalStorageDataRetrieval(a.TranslationsPage);this.applyPageFailure(a.TranslationsPage,e)}addArticlesPageSuccess(){let e=this.handleLocalStorageDataRetrieval(a.ArticlesPage);this.applyPageSuccess(a.ArticlesPage,e)}addArticlesPageFailure(){let e=this.handleLocalStorageDataRetrieval(a.ArticlesPage);this.applyPageFailure(a.ArticlesPage,e)}addSwiperPageSuccess(){let e=this.handleLocalStorageDataRetrieval(a.SwiperPage);this.applyPageSuccess(a.SwiperPage,e)}applySearchPageIncrement(e){let t=this.getYearMonth(),s=e.byMonth[t]??{searches:0,successSearches:0,emptySearches:0},n=c(r({},e),{totalSearches:e.totalSearches+1,totalSuccessSearches:e.totalSuccessSearches+1,byMonth:c(r({},e.byMonth),{[t]:c(r({},s),{searches:s.searches+1,successSearches:s.successSearches+1})})});this.setItem(a.SearchPage,n)}applySearchPageIncrementEmpty(e){let t=this.getYearMonth(),s=e.byMonth[t]??{searches:0,successSearches:0,emptySearches:0},n=c(r({},e),{totalSearches:e.totalSearches+1,totalEmptySearches:e.totalEmptySearches+1,byMonth:c(r({},e.byMonth),{[t]:c(r({},s),{searches:s.searches+1,emptySearches:s.emptySearches+1})})});this.setItem(a.SearchPage,n)}applyPageSuccess(e,t){let s=this.getYearMonth(),n=t.byMonth[s]??{successes:0,fails:0},h=c(r({},t),{totalSuccesses:t.totalSuccesses+1,byMonth:c(r({},t.byMonth),{[s]:c(r({},n),{successes:n.successes+1})})});this.setItem(e,h)}applyPageFailure(e,t){let s=this.getYearMonth(),n=t.byMonth[s]??{successes:0,fails:0},h=c(r({},t),{totalFails:t.totalFails+1,byMonth:c(r({},t.byMonth),{[s]:c(r({},n),{fails:n.fails+1})})});this.setItem(e,h)}getYearMonth(e=new Date){let t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0");return`${t}-${s}`}handleLocalStorageDataRetrieval(e){let t=this.getItem(e);return t||(this.setItem(e,i),t=i),t}handleSearchPageLocalStorageDataRetrieval(){let e=this.getItem(a.SearchPage);return e||(this.setItem(a.SearchPage,S),e=S),e}clear(){localStorage.clear()}};l.\u0275fac=function(t){return new(t||l)},l.\u0275prov=g({token:l,factory:l.\u0275fac,providedIn:"root"});let o=l;return o})();export{a,y as b};
