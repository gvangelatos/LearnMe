import{a as J}from"./chunk-NV3BJ2B3.js";import{b as K}from"./chunk-KL2RSWLH.js";import{a as z}from"./chunk-3GJPDCPF.js";import{a as H,f as Q}from"./chunk-77RKG7JI.js";import{$ as w,Aa as M,C as b,Fb as V,Ga as O,Ha as A,Ja as E,Jb as j,Kb as L,L as a,Mb as F,Pb as $,Qb as B,Sa as R,U as y,Ub as D,Xb as G,Yb as W,_b as N,aa as C,ba as I,bc as q,ca as P,d as S,da as p,ea as l,fa as s,ga as g,j as v,ka as _,la as x,ma as d,q as T,t as h,v as m,w as u,xa as f,za as k}from"./chunk-RMQJIU2P.js";import"./chunk-ZO533RPQ.js";import"./chunk-CEKJCJ5E.js";import"./chunk-HF35MVHV.js";import"./chunk-65LW6U7E.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-H3Z6NBHK.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";var U=(()=>{let n=class n{shuffleArray(t){let e=[...t],o=e.length;for(;o!=0;){let c=Math.floor(Math.random()*o);o--,[e[o],e[c]]=[e[c],e[o]]}return[...e]}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Z=["class","page"],ee=(i,n)=>n+"-"+i;function te(i,n){i&1&&(l(0,"div",2)(1,"ion-label"),f(2,"Getting you a word..."),s(),g(3,"ion-spinner",3),s())}function ne(i,n){if(i&1){let r=_();l(0,"ion-button",13),x("click",function(){let e=m(r),o=e.$implicit,c=e.$index,X=d(2);return u(X.answeredClicked(o,c))}),f(1),O(2,"titlecase"),s()}if(i&2){let r=n.$implicit,t=n.$index,e=d(2);p("color",e.getButtonColor(t)),a(),k(" ",A(2,2,r)," ")}}function ie(i,n){if(i&1){let r=_();l(0,"div",12)(1,"ion-button",14),x("click",function(){m(r);let e=d(2);return u(e.handleRefresh())}),f(2," Next "),g(3,"ion-icon",15),s()()}if(i&2){let r=d(2);a(),p("color",r.getTextColor())}}function re(i,n){if(i&1){let r=_();l(0,"ion-refresher",4),x("ionRefresh",function(){m(r);let e=d();return u(e.handleRefresh())}),g(1,"ion-refresher-content"),s(),l(2,"div",5)(3,"div",6)(4,"ion-text",7)(5,"span",8),f(6),s()()(),l(7,"div",9)(8,"div",10),I(9,ne,3,4,"ion-button",11,ee),s()(),w(11,ie,4,1,"div",12),s()}if(i&2){let r=d();a(4),p("color",r.getTextColor()),a(2),M(" ",r.wordSets()[0].words[0].article?r.wordSets()[0].words[0].article+" ":"","",r.wordSets()[0].words[0].german_translation," "),a(3),P(r.wordSets()[0].answers),a(2),C(r.answered?11:-1)}}var oe=3,_e=(()=>{let n=class n{constructor(){this.gsApiService=h(J),this.utilityService=h(U),this.localStorageService=h(K),this.wordSets=b([]),this.isCorrect=!1,this.answered=!1,z({languageOutline:Q,arrowForwardOutline:H}),E(()=>{this.wordSets().length<oe&&this.getWordsSet()})}getWordsSet(){this.gsApiService.getRandomWords().pipe(S(t=>{let e=this.utilityService.shuffleArray(t.map(c=>c.english_translation)),o=e.findIndex(c=>c.toLowerCase()===t[0]?.english_translation?.toLowerCase());return{words:t,answers:e,correctAnswer:o}}),v(1)).subscribe({next:t=>{this.wordSets.update(e=>(e.push(t),[...e])),console.log(this.wordSets())},error:t=>{}})}resetQuestion(){this.isCorrect=!1,this.answered=!1,this.chosenAnswer=void 0,this.wordSets.update(t=>t.splice(1))}answeredClicked(t,e){!this.wordSets()[0].words[0]||this.answered||(this.chosenAnswer=e,t.toLowerCase()===this.wordSets()[0].words[0]?.english_translation?.toLowerCase()?this.handleAnswer(!0):this.handleAnswer(!1))}handleAnswer(t){t?this.localStorageService.addTranslationsPageSuccess():this.localStorageService.addTranslationsPageFailure(),this.isCorrect=t,this.answered=!0}getButtonColor(t){return this.answered?t===this.wordSets()[0].correctAnswer?"success":t===this.chosenAnswer?"danger":"dark":"dark"}getTextColor(){return this.answered?this.isCorrect?"success":"danger":"dark"}handleRefresh(){this.resetQuestion()}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=y({type:n,selectors:[["app-translations-tab",8,"page"]],attrs:Z,decls:7,vars:4,consts:[[3,"translucent"],[3,"forceOverscroll","fullscreen"],[1,"spinner-container"],["name","lines-sharp"],["slot","fixed",3,"ionRefresh"],[1,"main-container"],[1,"word-container"],[3,"color"],[1,"german-translation"],[1,"question-container"],[1,"choices"],[1,"article-btn",3,"color"],[1,"next-button"],[1,"article-btn",3,"click","color"],["shape","round",1,"next",3,"click","color"],["slot","end","name","arrow-forward-outline"]],template:function(e,o){e&1&&(l(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),f(3," Guess The Translation "),s()()(),l(4,"ion-content",1),w(5,te,4,0,"div",2)(6,re,12,4),s()),e&2&&(p("translucent",!0),a(4),p("forceOverscroll",!1)("fullscreen",!0),a(),C(o.wordSets().length?6:5))},dependencies:[j,L,W,N,F,D,$,B,G,V,q,R],styles:[".article-card[_ngcontent-%COMP%]{display:inline-block;margin:0;box-shadow:1px 2px #888}ion-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:700}.word-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;align-items:center;font-weight:700;font-size:xx-large;color:var(--ion-color-dark-shade);flex-direction:column}.article-btn[_ngcontent-%COMP%]{font-weight:700;--box-shadow: 3px 5px #888}.next[_ngcontent-%COMP%]{font-weight:700}.translation-btn[_ngcontent-%COMP%]{margin-bottom:22px;font-size:10px}.main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);height:100%;justify-content:center;position:relative}.next-button[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;width:100%;display:flex;align-items:center;justify-content:end}.choices[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;padding:8px;width:100%}.question-container[_ngcontent-%COMP%]{width:100%;align-items:end;display:flex;margin-bottom:10vh}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100%;justify-content:center;gap:8px}"]});let i=n;return i})();export{_e as TranslationsTabPage};
