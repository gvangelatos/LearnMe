import{a as me}from"./chunk-ED4T2MVG.js";import{a as he}from"./chunk-NL66M3JJ.js";import{b as pe}from"./chunk-WGX25C67.js";import{a as se,b as ge}from"./chunk-FWSM6V3I.js";import{$ as T,Aa as P,Ba as F,C as V,Ca as D,Da as B,Ea as R,Ia as b,Ja as S,L as o,La as L,Ma as W,Mb as z,Oa as j,Pb as Q,Qb as K,Tb as U,Tc as ce,U as G,Ub as J,Vb as X,Xa as N,Xb as Y,Y as v,Zb as Z,_b as ee,aa as k,ca as y,cc as te,d as O,da as E,ea as g,fa as s,ga as l,gc as ne,ha as w,hc as ie,hd as C,j as A,jc as re,jd as de,la as _,ma as u,mb as $,mc as oe,na as d,nb as H,qc as ae,sb as q,sc as le,t as m,v as h,w as p,xa as x,ya as f}from"./chunk-ZG2CGG4T.js";import"./chunk-LZLR2LY2.js";import"./chunk-QUJFQN2Y.js";import"./chunk-4Y7S6YNQ.js";import"./chunk-AFDEAI4Q.js";import"./chunk-FW54IBZQ.js";import"./chunk-XFTDMII6.js";import"./chunk-6UN2ZHFS.js";import"./chunk-GUAHXRP7.js";import"./chunk-TI63YTDM.js";import"./chunk-7FY2OE2O.js";import"./chunk-X5DGDGOL.js";import"./chunk-K3XRD3ZW.js";import"./chunk-H4WWKYIE.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-M4YV23JW.js";import"./chunk-CKP3SGE2.js";import"./chunk-43VE3WEW.js";import"./chunk-TWXWFH2W.js";import"./chunk-XSYUFH4D.js";import"./chunk-252GNU6G.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-SPMQWSIB.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{a as I}from"./chunk-JHI3MBHO.js";var ue=["class","page"],fe=()=>[.15,.5],we=()=>[0,.25,.5,.75],xe=()=>({"german-translation":!0}),be=()=>[],Se=n=>({"german-translation":!0,shake:n}),Ce=n=>({"article-btn":!0,gelatin:n}),ve=n=>({next:!0,gelatin:n}),_e=(n,r)=>r+"-"+n;function Te(n,r){n&1&&w(0,"ion-skeleton-text",11),n&2&&g("animated",!0)}function ke(n,r){n&1&&(s(0,"div",6)(1,"div",9)(2,"ion-text",10)(3,"div"),w(4,"ion-skeleton-text",11),l()()(),s(5,"div",12)(6,"div",13),y(7,Te,1,1,"ion-skeleton-text",11,_e),l()()()),n&2&&(o(3),x(b(3,xe)),o(),g("animated",!0),o(3),E(b(4,be).constructor(4)))}function ye(n,r){if(n&1){let i=_();s(0,"ion-button",17),u("click",function(){let e=h(i),a=e.$implicit,c=e.$index,M=d(2);return p(M.answeredClicked(a,c))}),f(1),L(2,"titlecase"),l()}if(n&2){let i=r.$implicit,t=r.$index,e=d(2);x(S(6,Ce,e.chosenAnswer===t)),g("color",e.getButtonColor(t)),o(),P(" ",W(2,4,i)," ")}}function Ee(n,r){if(n&1){let i=_();s(0,"ion-refresher",14),u("ionRefresh",function(){h(i);let e=d();return p(e.handleRefresh())}),w(1,"ion-refresher-content"),l(),s(2,"div",6)(3,"div",9)(4,"ion-text",15)(5,"div"),f(6),l()()(),s(7,"div",12)(8,"div",13),y(9,ye,3,8,"ion-button",16,_e),l()()()}if(n&2){let i=d();o(4),g("color",i.getTextColor()),o(),x(S(5,Se,!i.isCorrect&&i.answered)),o(),F(" ",i.wordSets()[0].words[0].article&&!i.germanEnabled?i.wordSets()[0].words[0].article+" ":"","",i.germanEnabled?i.wordSets()[0].words[0].english_translation:i.wordSets()[0].words[0].german_translation," "),o(3),E(i.wordSets()[0].answers)}}function Pe(n,r){if(n&1){let i=_();s(0,"ion-button",19),u("click",function(){h(i);let e=d(2);return p(e.answered?e.handleRefresh():e.checkAnswer())}),f(1),l()}if(n&2){let i=d(2);x(S(5,ve,i.answered)),g("disabled",!i.answered&&!i.chosen)("color",i.getTextColor()),o(),P(" ",i.answered?"Next":"Check"," ")}}function Me(n,r){if(n&1&&T(0,Pe,2,7,"ion-button",18),n&2){let i=d();k(i.chosen?0:-1)}}function Ie(n,r){if(n&1){let i=_();s(0,"ion-list",20)(1,"ion-item")(2,"ion-toggle",21),u("ionChange",function(e){h(i);let a=d();return p(a.toggleGerman(e))}),R("ngModelChange",function(e){h(i);let a=d();return B(a.germanEnabled,e)||(a.germanEnabled=e),p(e)}),f(3," Switch to German "),l()()()}if(n&2){let i=d();o(2),D("ngModel",i.germanEnabled)}}var Oe=3,Ke=(()=>{let r=class r{constructor(){this.gsApiService=m(he),this.utilityService=m(me),this.hapticsService=m(ge),this.localStorageService=m(de),this.affirmationToastService=m(pe),this.wordSets=V([]),this.isCorrect=!1,this.answered=!1,this.chosen=!1,this.germanEnabled=!1,this.getIsGermanEnabledStorageData(),se({arrowForwardOutline:le,settingsOutline:ce}),j(()=>{this.wordSets().length<Oe&&this.getWordsSet()})}ionViewWillEnter(){this.getIsGermanEnabledStorageData(!0)}getIsGermanEnabledStorageData(t=!1){let e=this.localStorageService.getItem(C.GermanEnabled);e===null?(this.germanEnabled=!1,this.localStorageService.setItem(C.GermanEnabled,!1),t&&this.toggleGerman({detail:{checked:!1}})):(t&&this.germanEnabled!==e&&this.toggleGerman({detail:{checked:e}}),this.germanEnabled=e)}getWordsSet(){this.gsApiService.getRandomWords().pipe(O(t=>{let e,a;return this.germanEnabled?(e=this.utilityService.shuffleArray(t.map(c=>c.german_translation)),a=e.findIndex(c=>c.toLowerCase()===t[0]?.german_translation?.toLowerCase())):(e=this.utilityService.shuffleArray(t.map(c=>c.english_translation)),a=e.findIndex(c=>c.toLowerCase()===t[0]?.english_translation?.toLowerCase())),{words:t,answers:e,correctAnswer:a}}),A(1)).subscribe({next:t=>{this.wordSets.update(e=>(e.push(I({},t)),[...e]))},error:t=>{}})}resetQuestion(){this.chosen=!1,this.answered=!1,this.chosenAnswer=void 0,this.isCorrect=!1,this.wordSets.update(t=>t.splice(1))}answeredClicked(t,e){!this.wordSets()[0].words[0]||this.answered||(this.chosenAnswer=e,this.chosen=!0)}checkAnswer(){this.chosen&&(this.answered=!0,typeof this.chosenAnswer=="number"&&this.chosenAnswer===this.wordSets()[0].correctAnswer?(this.handleAnswer(!0),this.hapticsService.vibrateSuccess(),this.affirmationToastService.showPositiveToast()):(this.handleAnswer(!1),this.hapticsService.vibrateError(),this.affirmationToastService.showNegativeToast()))}vibrate(){this.hapticsService.vibrateDefault()}handleAnswer(t){t?this.localStorageService.addTranslationsPageSuccess():this.localStorageService.addTranslationsPageFailure(),this.isCorrect=t,this.answered=!0}getButtonColor(t){return!this.answered&&!this.chosen?"dark":this.chosen&&!this.answered&&t===this.chosenAnswer?"warning":t===this.wordSets()[0].correctAnswer&&this.answered&&this.chosen?"success":t===this.chosenAnswer?"danger":"dark"}getTextColor(){return this.answered?this.isCorrect?"success":"danger":"dark"}toggleGerman(t){this.localStorageService.setItem(C.GermanEnabled,t?.detail?.checked),this.chosen=!1,this.answered=!1,this.chosenAnswer=void 0,this.isCorrect=!1,this.wordSets.set([])}handleRefresh(){this.resetQuestion()}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=G({type:r,selectors:[["app-translations-tab",8,"page"]],attrs:ue,decls:15,vars:17,consts:[["modal",""],[3,"translucent"],["slot","primary"],["id","open-modal",3,"click"],["color","dark","slot","icon-only","name","settings-outline"],[3,"forceOverscroll","fullscreen"],[1,"main-container"],[3,"isOpen","keyboardClose","backdropDismiss","handle","draggable","initialBreakpoint","breakpoints","backdropBreakpoint"],["trigger","open-modal",3,"canDismiss","initialBreakpoint","breakpoints"],[1,"word-container"],["color","dark"],[3,"animated"],[1,"question-container"],[1,"choices"],["slot","fixed",3,"ionRefresh"],[3,"color"],[3,"class","color"],[3,"click","color"],["shape","round",3,"disabled","class","color"],["shape","round",3,"click","disabled","color"],[1,"settings-list"],["helperText","Switches to choosing the correct German word based in a word in English.",3,"ionChange","ngModelChange","ngModel"]],template:function(e,a){if(e&1){let c=_();s(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),f(3," Guess The Translation "),l(),s(4,"ion-buttons",2)(5,"ion-button",3),u("click",function(){return h(c),p(a.vibrate())}),w(6,"ion-icon",4),l()()()(),s(7,"ion-content",5),T(8,ke,9,5,"div",6)(9,Ee,11,7),l(),s(10,"ion-modal",7),v(11,Me,1,1,"ng-template"),l(),s(12,"ion-modal",8,0),v(14,Ie,4,1,"ng-template"),l()}e&2&&(g("translucent",!0),o(7),g("forceOverscroll",!1)("fullscreen",!0),o(),k(a.wordSets().length?9:8),o(2),g("isOpen",a.chosen)("keyboardClose",!1)("backdropDismiss",!1)("handle",!1)("draggable",!1)("initialBreakpoint",.15)("breakpoints",b(15,fe))("backdropBreakpoint",.5),o(2),g("canDismiss",!0)("initialBreakpoint",.25)("breakpoints",b(16,we)))},dependencies:[U,J,ie,re,Z,ee,ne,Q,z,K,oe,Y,X,ae,q,$,H,te,N],styles:[".article-card[_ngcontent-%COMP%]{display:inline-block;margin:0;box-shadow:1px 2px #888}ion-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:700}.word-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;align-items:center;font-weight:700;font-size:xx-large;color:var(--ion-color-dark-shade);flex-direction:column}.word-container[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]{width:150px;height:40px}.article-btn[_ngcontent-%COMP%]{font-weight:700;--box-shadow: 3px 5px #888}.next[_ngcontent-%COMP%]{font-weight:700;margin:12px}.translation-btn[_ngcontent-%COMP%]{margin-bottom:22px;font-size:10px}.main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);height:100%;justify-content:center;position:relative}.next-button[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;width:100%;display:flex;align-items:center;justify-content:end}.choices[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;padding:8px;width:100%}.choices[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]{height:50px}.question-container[_ngcontent-%COMP%]{width:100%;align-items:end;display:flex;margin-bottom:10vh}.settings-list[_ngcontent-%COMP%]{padding-top:24px;height:100%}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100%;justify-content:center;gap:8px}"]});let n=r;return n})();export{Ke as TranslationsTabPage};
