import{a as J}from"./chunk-NV3BJ2B3.js";import"./chunk-UJELF75L.js";import{b as K}from"./chunk-KL2RSWLH.js";import{a as H}from"./chunk-3GJPDCPF.js";import{a as Q}from"./chunk-77RKG7JI.js";import{$ as y,Aa as O,C as b,Cb as j,Fb as B,Ga as A,Ha as E,Ja as R,Jb as L,Kb as D,L as c,Mb as F,Pb as $,Qb as G,Sa as V,U as T,Ub as W,Xb as N,Y as v,Yb as q,_b as z,aa as I,ba as k,ca as P,d as w,da as d,ea as a,fa as s,ga as _,j as C,ka as u,la as x,ma as p,q as S,t as m,v as h,w as g,xa as f,za as M}from"./chunk-RMQJIU2P.js";import"./chunk-ZO533RPQ.js";import"./chunk-CEKJCJ5E.js";import"./chunk-HF35MVHV.js";import"./chunk-65LW6U7E.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-H3Z6NBHK.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";var U=(()=>{let n=class n{shuffleArray(t){let e=[...t],o=e.length;for(;o!=0;){let l=Math.floor(Math.random()*o);o--,[e[o],e[l]]=[e[l],e[o]]}return[...e]}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Z=["class","page"],ee=(i,n)=>n+"-"+i;function te(i,n){i&1&&(a(0,"div",3)(1,"ion-label"),f(2,"Getting you a word..."),s(),_(3,"ion-spinner",5),s())}function ne(i,n){if(i&1){let r=u();a(0,"ion-button",14),x("click",function(){let e=h(r),o=e.$implicit,l=e.$index,X=p(2);return g(X.answeredClicked(o,l))}),f(1),A(2,"titlecase"),s()}if(i&2){let r=n.$implicit,t=n.$index,e=p(2);d("color",e.getButtonColor(t)),c(),M(" ",E(2,2,r)," ")}}function ie(i,n){if(i&1){let r=u();a(0,"ion-refresher",6),x("ionRefresh",function(){h(r);let e=p();return g(e.handleRefresh())}),_(1,"ion-refresher-content"),s(),a(2,"div",7)(3,"div",8)(4,"ion-text",9)(5,"span",10),f(6),s()()(),a(7,"div",11)(8,"div",12),k(9,ne,3,4,"ion-button",13,ee),s()()()}if(i&2){let r=p();c(4),d("color",r.getTextColor()),c(2),O(" ",r.wordSets()[0].words[0].article?r.wordSets()[0].words[0].article+" ":"","",r.wordSets()[0].words[0].german_translation," "),c(3),P(r.wordSets()[0].answers)}}function re(i,n){if(i&1){let r=u();a(0,"ion-button",15),x("click",function(){h(r);let e=p();return g(e.handleRefresh())}),f(1," Next "),s()}if(i&2){let r=p();d("color",r.getTextColor())}}var oe=3,Se=(()=>{let n=class n{constructor(){this.gsApiService=m(J),this.utilityService=m(U),this.localStorageService=m(K),this.wordSets=b([]),this.isCorrect=!1,this.answered=!1,H({arrowForwardOutline:Q}),R(()=>{this.wordSets().length<oe&&this.getWordsSet()})}getWordsSet(){this.gsApiService.getRandomWords().pipe(w(t=>{let e=this.utilityService.shuffleArray(t.map(l=>l.english_translation)),o=e.findIndex(l=>l.toLowerCase()===t[0]?.english_translation?.toLowerCase());return{words:t,answers:e,correctAnswer:o}}),C(1)).subscribe({next:t=>{this.wordSets.update(e=>(e.push(t),[...e])),console.log(this.wordSets())},error:t=>{}})}resetQuestion(){this.isCorrect=!1,this.answered=!1,this.chosenAnswer=void 0,this.wordSets.update(t=>t.splice(1))}answeredClicked(t,e){!this.wordSets()[0].words[0]||this.answered||(this.chosenAnswer=e,t.toLowerCase()===this.wordSets()[0].words[0]?.english_translation?.toLowerCase()?this.handleAnswer(!0):this.handleAnswer(!1))}handleAnswer(t){t?this.localStorageService.addTranslationsPageSuccess():this.localStorageService.addTranslationsPageFailure(),this.isCorrect=t,this.answered=!0}getButtonColor(t){return this.answered?t===this.wordSets()[0].correctAnswer?"success":t===this.chosenAnswer?"danger":"dark":"dark"}getTextColor(){return this.answered?this.isCorrect?"success":"danger":"dark"}handleRefresh(){this.resetQuestion()}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=T({type:n,selectors:[["app-translations-tab",8,"page"]],attrs:Z,decls:10,vars:10,consts:[["modal",""],[3,"translucent"],[3,"forceOverscroll","fullscreen"],[1,"spinner-container"],["trigger","open-modal",3,"isOpen","keyboardClose","backdropDismiss","handle","draggable","initialBreakpoint"],["name","lines-sharp"],["slot","fixed",3,"ionRefresh"],[1,"main-container"],[1,"word-container"],[3,"color"],[1,"german-translation"],[1,"question-container"],[1,"choices"],[1,"article-btn",3,"color"],[1,"article-btn",3,"click","color"],["shape","round",1,"next",3,"click","color"]],template:function(e,o){e&1&&(a(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),f(3," Guess The Translation "),s()()(),a(4,"ion-content",2),y(5,te,4,0,"div",3)(6,ie,11,3),s(),a(7,"ion-modal",4,0),v(9,re,2,1,"ng-template"),s()),e&2&&(d("translucent",!0),c(4),d("forceOverscroll",!1)("fullscreen",!0),c(),I(o.wordSets().length?6:5),c(2),d("isOpen",o.answered)("keyboardClose",!1)("backdropDismiss",!1)("handle",!1)("draggable",!1)("initialBreakpoint",.15))},dependencies:[L,D,q,z,F,W,$,G,N,B,j,V],styles:[".article-card[_ngcontent-%COMP%]{display:inline-block;margin:0;box-shadow:1px 2px #888}ion-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:700}.word-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;align-items:center;font-weight:700;font-size:xx-large;color:var(--ion-color-dark-shade);flex-direction:column}.article-btn[_ngcontent-%COMP%]{font-weight:700;--box-shadow: 3px 5px #888}.next[_ngcontent-%COMP%]{font-weight:700;margin-top:24px}.translation-btn[_ngcontent-%COMP%]{margin-bottom:22px;font-size:10px}.main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);height:100%;justify-content:center;position:relative}.next-button[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;width:100%;display:flex;align-items:center;justify-content:end}.choices[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;padding:8px;width:100%}.question-container[_ngcontent-%COMP%]{width:100%;align-items:end;display:flex;margin-bottom:10vh}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100%;justify-content:center;gap:8px}"]});let i=n;return i})();export{Se as TranslationsTabPage};
