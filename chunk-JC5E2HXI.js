import{a as be}from"./chunk-CZQC5IMK.js";import{a as ue}from"./chunk-VXUM73G4.js";import{a as we}from"./chunk-C2FP3VWD.js";import{b as _e}from"./chunk-QAIM5LXL.js";import{a as de}from"./chunk-3GJPDCPF.js";import{a as fe}from"./chunk-CXTAH3RB.js";import{D as me,E as pe,b as he,g as ge}from"./chunk-ARN3QUWX.js";import{$ as S,Aa as P,Ba as D,C as V,Ca as G,Da as B,Ea as L,Ia as x,Ja as v,L as o,La as R,Ma as W,Mb as q,Oa as j,Pb as Q,Tb as K,U as F,Ub as U,Vb as J,Wb as X,Xa as N,Xb as Y,Y as k,Yb as Z,_b as ee,aa as C,ac as te,bc as ne,ca as y,d as O,da as E,ea as c,fa as s,ga as l,gc as ie,ha as _,j as A,kc as re,la as f,lc as oe,ma as u,mb as z,na as d,nb as H,nc as ae,qc as se,sb as $,t as p,v as g,vc as le,w as m,wc as T,xa as b,ya as w,yc as ce}from"./chunk-PNTAUP42.js";import"./chunk-THTHWAQ6.js";import"./chunk-QUJFQN2Y.js";import"./chunk-4DJMDNC5.js";import"./chunk-FKJDL3M2.js";import"./chunk-YIHCPKBH.js";import"./chunk-VPLLFS7J.js";import"./chunk-KPN2SSRA.js";import"./chunk-C64N4FA3.js";import"./chunk-SMEE54TN.js";import"./chunk-BMJVVMK5.js";import"./chunk-R2VG4DQ6.js";import"./chunk-ZID3IQXP.js";import"./chunk-KI7QKDP2.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-Z4W4WSBC.js";import"./chunk-CKP3SGE2.js";import"./chunk-FPZUIWVF.js";import"./chunk-6YT5GN4E.js";import"./chunk-VDFYVGMU.js";import"./chunk-FS7NKJS5.js";import"./chunk-PGY34PD4.js";import"./chunk-GYLY2RJE.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-SPMQWSIB.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{a as I}from"./chunk-2R6CW7ES.js";var Se=["class","page"],Ce=()=>[.15,.5],ve=()=>[0,.25,.5,.75],Te=()=>({"german-translation":!0}),ke=()=>[],ye=t=>({"german-translation":!0,shake:t}),Ee=t=>({"article-btn":!0,gelatin:t}),Pe=t=>({next:!0,gelatin:t}),xe=(t,r)=>r+"-"+t;function Me(t,r){t&1&&_(0,"ion-skeleton-text",15),t&2&&c("animated",!0)}function Ie(t,r){t&1&&(s(0,"div",3)(1,"div",13)(2,"ion-text",14)(3,"div"),_(4,"ion-skeleton-text",15),l()()(),s(5,"div",16)(6,"div",17),y(7,Me,1,1,"ion-skeleton-text",15,xe),l()()()),t&2&&(o(3),b(x(3,Te)),o(),c("animated",!0),o(3),E(x(4,ke).constructor(4)))}function Oe(t,r){if(t&1){let n=f();s(0,"ion-button",21),u("click",function(){let e=g(n),a=e.$implicit,h=e.$index,M=d(2);return m(M.answeredClicked(a,h))}),w(1),R(2,"titlecase"),l()}if(t&2){let n=r.$implicit,i=r.$index,e=d(2);b(v(6,Ee,e.chosenAnswer===i)),c("color",e.getButtonColor(i)),o(),P(" ",W(2,4,n)," ")}}function Ae(t,r){if(t&1){let n=f();s(0,"ion-refresher",18),u("ionRefresh",function(){g(n);let e=d();return m(e.handleRefresh())}),_(1,"ion-refresher-content"),l(),s(2,"div",3)(3,"div",13)(4,"ion-text",19)(5,"div"),w(6),l()()(),s(7,"div",16)(8,"div",17),y(9,Oe,3,8,"ion-button",20,xe),l()()()}if(t&2){let n=d();o(4),c("color",n.getTextColor()),o(),b(v(5,ye,!n.isCorrect&&n.answered)),o(),D(" ",n.wordSets()[0].words[0].article&&!n.germanEnabled?n.wordSets()[0].words[0].article+" ":"","",n.germanEnabled?n.wordSets()[0].words[0].english_translation:n.wordSets()[0].words[0].german_translation," "),o(3),E(n.wordSets()[0].answers)}}function Ve(t,r){if(t&1){let n=f();s(0,"ion-fab-button",22),u("click",function(){g(n);let e=d();return m(e.shareWord())}),_(1,"ion-icon",23),l()}if(t&2){let n=d();c("disabled",!n.wordSets().length)}}function Fe(t,r){if(t&1){let n=f();s(0,"ion-button",25),u("click",function(){g(n);let e=d(2);return m(e.answered?e.handleRefresh():e.checkAnswer())}),w(1),l()}if(t&2){let n=d(2);b(v(5,Pe,n.answered)),c("disabled",!n.answered&&!n.chosen)("color",n.getTextColor()),o(),P(" ",n.answered?"Next":"Check"," ")}}function De(t,r){if(t&1&&S(0,Fe,2,7,"ion-button",24),t&2){let n=d();C(n.chosen?0:-1)}}function Ge(t,r){if(t&1){let n=f();s(0,"ion-list",26)(1,"ion-item")(2,"ion-toggle",27),u("ionChange",function(e){g(n);let a=d();return m(a.toggleGerman(e))}),L("ngModelChange",function(e){g(n);let a=d();return B(a.germanEnabled,e)||(a.germanEnabled=e),m(e)}),w(3," Switch to German "),l()()()}if(t&2){let n=d();o(2),G("ngModel",n.germanEnabled)}}var Be=3,tt=(()=>{let r=class r{constructor(){this.gsApiService=p(ue),this.utilityService=p(be),this.hapticsService=p(fe),this.sharingService=p(we),this.localStorageService=p(ce),this.affirmationToastService=p(_e),this.wordSets=V([]),this.isCorrect=!1,this.answered=!1,this.chosen=!1,this.germanEnabled=!1,this.sharingEnabled=!1,this.getIsGermanEnabledStorageData(),de({arrowForwardOutline:he,settingsOutline:me,chevronDownCircleOutline:ge,shareOutline:pe}),j(()=>{this.wordSets().length<Be&&this.getWordsSet()}),this.sharingEnabled=this.sharingService.isSharingEnabled}shareWord(){this.hapticsService.vibrateDefault(),this.sharingService.shareElement("share-this-translations","Hey, take a look at this word!",this.wordSets()[0].words[0].german_translation)}ionViewWillEnter(){this.getIsGermanEnabledStorageData(!0)}getIsGermanEnabledStorageData(i=!1){let e=this.localStorageService.getItem(T.GermanEnabled);e===null?(this.germanEnabled=!1,this.localStorageService.setItem(T.GermanEnabled,!1),i&&this.toggleGerman({detail:{checked:!1}})):(i&&this.germanEnabled!==e&&this.toggleGerman({detail:{checked:e}}),this.germanEnabled=e)}getWordsSet(){this.gsApiService.getRandomWords().pipe(O(i=>{let e,a;return this.germanEnabled?(e=this.utilityService.shuffleArray(i.map(h=>h.german_translation)),a=e.findIndex(h=>h.toLowerCase()===i[0]?.german_translation?.toLowerCase())):(e=this.utilityService.shuffleArray(i.map(h=>h.english_translation)),a=e.findIndex(h=>h.toLowerCase()===i[0]?.english_translation?.toLowerCase())),{words:i,answers:e,correctAnswer:a}}),A(1)).subscribe({next:i=>{this.wordSets.update(e=>(e.push(I({},i)),[...e]))},error:i=>{}})}resetQuestion(){this.chosen=!1,this.answered=!1,this.chosenAnswer=void 0,this.isCorrect=!1,this.wordSets.update(i=>i.splice(1))}answeredClicked(i,e){!this.wordSets()[0].words[0]||this.answered||(this.chosenAnswer=e,this.chosen=!0)}checkAnswer(){this.chosen&&(this.answered=!0,typeof this.chosenAnswer=="number"&&this.chosenAnswer===this.wordSets()[0].correctAnswer?(this.handleAnswer(!0),this.hapticsService.vibrateSuccess(),this.affirmationToastService.showPositiveToast()):(this.handleAnswer(!1),this.hapticsService.vibrateError(),this.affirmationToastService.showNegativeToast()))}vibrate(){this.hapticsService.vibrateDefault()}handleAnswer(i){i?this.localStorageService.addTranslationsPageSuccess():this.localStorageService.addTranslationsPageFailure(this.wordSets()[0].words[0]),this.isCorrect=i,this.answered=!0}getButtonColor(i){return!this.answered&&!this.chosen?"dark":this.chosen&&!this.answered&&i===this.chosenAnswer?"warning":i===this.wordSets()[0].correctAnswer&&this.answered&&this.chosen?"success":i===this.chosenAnswer?"danger":"dark"}getTextColor(){return this.answered?this.isCorrect?"success":"danger":"dark"}toggleGerman(i){this.localStorageService.setItem(T.GermanEnabled,i?.detail?.checked),this.chosen=!1,this.answered=!1,this.chosenAnswer=void 0,this.isCorrect=!1,this.wordSets.set([])}handleRefresh(){this.resetQuestion()}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=F({type:r,selectors:[["app-translations-tab",8,"page"]],attrs:Se,decls:19,vars:20,consts:[["modal",""],[3,"translucent"],[3,"forceOverscroll","fullscreen"],[1,"main-container"],["slot","fixed","vertical","top","horizontal","end",3,"edge"],["color","dark","size","small",3,"disabled"],["name","chevron-down-circle-outline"],["side","bottom"],["id","open-modal-settings-translations",3,"click"],["name","settings-outline"],[3,"disabled"],[3,"isOpen","keyboardClose","backdropDismiss","handle","draggable","initialBreakpoint","breakpoints","backdropBreakpoint"],["trigger","open-modal-settings-translations",3,"canDismiss","initialBreakpoint","breakpoints"],[1,"word-container"],["color","dark"],[3,"animated"],[1,"question-container"],[1,"choices"],["slot","fixed",3,"ionRefresh"],["id","share-this-translations",3,"color"],[3,"class","color"],[3,"click","color"],[3,"click","disabled"],["name","share-outline"],["shape","round",3,"disabled","class","color"],["shape","round",3,"click","disabled","color"],[1,"settings-list"],["helperText","Switches to choosing the correct German word based in a word in English.",3,"ionChange","ngModelChange","ngModel"]],template:function(e,a){if(e&1){let h=f();s(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),w(3," Choose The Translation "),l()()(),s(4,"ion-content",2),S(5,Ie,9,5,"div",3)(6,Ae,11,7),s(7,"ion-fab",4)(8,"ion-fab-button",5),_(9,"ion-icon",6),l(),s(10,"ion-fab-list",7)(11,"ion-fab-button",8),u("click",function(){return g(h),m(a.vibrate())}),_(12,"ion-icon",9),l(),S(13,Ve,2,1,"ion-fab-button",10),l()()(),s(14,"ion-modal",11),k(15,De,1,1,"ng-template"),l(),s(16,"ion-modal",12,0),k(18,Ge,4,1,"ng-template"),l()}e&2&&(c("translucent",!0),o(4),c("forceOverscroll",!1)("fullscreen",!0),o(),C(a.wordSets().length?6:5),o(2),c("edge",!0),o(),c("disabled",!a.wordSets().length),o(5),C(a.sharingEnabled?13:-1),o(),c("isOpen",a.chosen)("keyboardClose",!1)("backdropDismiss",!1)("handle",!1)("draggable",!1)("initialBreakpoint",.15)("breakpoints",x(18,Ce))("backdropBreakpoint",.5),o(2),c("canDismiss",!0)("initialBreakpoint",.25)("breakpoints",x(19,ve)))},dependencies:[K,Y,oe,ae,te,ne,re,Q,q,se,ee,Z,le,$,z,H,ie,U,J,X,N],styles:[".article-card[_ngcontent-%COMP%]{display:inline-block;margin:0;box-shadow:1px 2px #888}ion-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:700}.word-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;align-items:center;font-weight:700;font-size:xx-large;color:var(--ion-color-dark-shade);flex-direction:column}.word-container[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]{width:150px;height:40px}.article-btn[_ngcontent-%COMP%]{font-weight:700;--box-shadow: 3px 5px #888}.next[_ngcontent-%COMP%]{font-weight:700;margin:12px}.translation-btn[_ngcontent-%COMP%]{margin-bottom:22px;font-size:10px}.main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);height:100%;justify-content:center;position:relative}.next-button[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;width:100%;display:flex;align-items:center;justify-content:end}.choices[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;padding:8px;width:100%}.choices[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]{height:50px}.question-container[_ngcontent-%COMP%]{width:100%;align-items:end;display:flex;margin-bottom:10vh}.settings-list[_ngcontent-%COMP%]{padding-top:24px;height:100%}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100%;justify-content:center;gap:8px}"]});let t=r;return t})();export{tt as TranslationsTabPage};
