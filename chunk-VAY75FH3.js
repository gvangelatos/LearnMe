import{a as se}from"./chunk-3GJPDCPF.js";import{a as le,l as ce}from"./chunk-EKST77EU.js";import{a as he}from"./chunk-5CPTF3PV.js";import{a as pe}from"./chunk-CAQ4NDHH.js";import{a as ge}from"./chunk-VPWQN3RI.js";import{$ as T,Aa as P,Ba as F,C as V,Ca as D,Da as B,Ea as R,Ia as b,Ja as C,L as o,La as L,Lb as z,Ma as W,Oa as j,Ob as Q,Pb as K,Sb as U,Tb as J,U as G,Ub as X,Wb as Y,Xa as N,Y as v,Yb as Z,Zb as ee,aa as k,bc as te,ca as y,d as O,da as E,ea as g,fa as s,fc as ne,ga as l,gc as ie,ha as w,ic as re,j as A,la as m,lc as oe,ma as _,mb as $,na as d,nb as H,pc as ae,qc as S,sb as q,sc as de,t as f,v as p,w as h,xa as x,ya as u}from"./chunk-3M6VVXZC.js";import"./chunk-XFTDMII6.js";import"./chunk-TWXWFH2W.js";import"./chunk-XSYUFH4D.js";import"./chunk-252GNU6G.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-SPMQWSIB.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{a as I}from"./chunk-JHI3MBHO.js";var _e=["class","page"],ue=()=>[.15,.5],fe=()=>[0,.25,.5,.75],we=()=>({"german-translation":!0}),xe=()=>[],be=n=>({"german-translation":!0,shake:n}),Ce=n=>({"article-btn":!0,gelatin:n}),Se=n=>({next:!0,gelatin:n}),me=(n,r)=>r+"-"+n;function ve(n,r){n&1&&w(0,"ion-skeleton-text",11),n&2&&g("animated",!0)}function Te(n,r){n&1&&(s(0,"div",6)(1,"div",9)(2,"ion-text",10)(3,"div"),w(4,"ion-skeleton-text",11),l()()(),s(5,"div",12)(6,"div",13),y(7,ve,1,1,"ion-skeleton-text",11,me),l()()()),n&2&&(o(3),x(b(3,we)),o(),g("animated",!0),o(3),E(b(4,xe).constructor(4)))}function ke(n,r){if(n&1){let i=m();s(0,"ion-button",17),_("click",function(){let e=p(i),a=e.$implicit,c=e.$index,M=d(2);return h(M.answeredClicked(a,c))}),u(1),L(2,"titlecase"),l()}if(n&2){let i=r.$implicit,t=r.$index,e=d(2);x(C(6,Ce,e.chosenAnswer===t)),g("color",e.getButtonColor(t)),o(),P(" ",W(2,4,i)," ")}}function ye(n,r){if(n&1){let i=m();s(0,"ion-refresher",14),_("ionRefresh",function(){p(i);let e=d();return h(e.handleRefresh())}),w(1,"ion-refresher-content"),l(),s(2,"div",6)(3,"div",9)(4,"ion-text",15)(5,"div"),u(6),l()()(),s(7,"div",12)(8,"div",13),y(9,ke,3,8,"ion-button",16,me),l()()()}if(n&2){let i=d();o(4),g("color",i.getTextColor()),o(),x(C(5,be,!i.isCorrect&&i.answered)),o(),F(" ",i.wordSets()[0].words[0].article&&!i.germanEnabled?i.wordSets()[0].words[0].article+" ":"","",i.germanEnabled?i.wordSets()[0].words[0].english_translation:i.wordSets()[0].words[0].german_translation," "),o(3),E(i.wordSets()[0].answers)}}function Ee(n,r){if(n&1){let i=m();s(0,"ion-button",19),_("click",function(){p(i);let e=d(2);return h(e.answered?e.handleRefresh():e.checkAnswer())}),u(1),l()}if(n&2){let i=d(2);x(C(5,Se,i.answered)),g("disabled",!i.answered&&!i.chosen)("color",i.getTextColor()),o(),P(" ",i.answered?"Next":"Check"," ")}}function Pe(n,r){if(n&1&&T(0,Ee,2,7,"ion-button",18),n&2){let i=d();k(i.chosen?0:-1)}}function Me(n,r){if(n&1){let i=m();s(0,"ion-list",20)(1,"ion-item")(2,"ion-toggle",21),_("ionChange",function(e){p(i);let a=d();return h(a.toggleGerman(e))}),R("ngModelChange",function(e){p(i);let a=d();return B(a.germanEnabled,e)||(a.germanEnabled=e),h(e)}),u(3," Switch to German "),l()()()}if(n&2){let i=d();o(2),D("ngModel",i.germanEnabled)}}var Ie=3,ze=(()=>{let r=class r{constructor(){this.gsApiService=f(pe),this.utilityService=f(he),this.hapticsService=f(ge),this.localStorageService=f(de),this.wordSets=V([]),this.isCorrect=!1,this.answered=!1,this.chosen=!1,this.germanEnabled=!1,this.getIsGermanEnabledStorageData(),se({arrowForwardOutline:le,settingsOutline:ce}),j(()=>{this.wordSets().length<Ie&&this.getWordsSet()})}ionViewWillEnter(){this.getIsGermanEnabledStorageData(!0)}getIsGermanEnabledStorageData(t=!1){let e=this.localStorageService.getItem(S.GermanEnabled);e===null?(this.germanEnabled=!1,this.localStorageService.setItem(S.GermanEnabled,!1),t&&this.toggleGerman({detail:{checked:!1}})):(t&&this.germanEnabled!==e&&this.toggleGerman({detail:{checked:e}}),this.germanEnabled=e)}getWordsSet(){this.gsApiService.getRandomWords().pipe(O(t=>{let e,a;return this.germanEnabled?(e=this.utilityService.shuffleArray(t.map(c=>c.german_translation)),a=e.findIndex(c=>c.toLowerCase()===t[0]?.german_translation?.toLowerCase())):(e=this.utilityService.shuffleArray(t.map(c=>c.english_translation)),a=e.findIndex(c=>c.toLowerCase()===t[0]?.english_translation?.toLowerCase())),{words:t,answers:e,correctAnswer:a}}),A(1)).subscribe({next:t=>{this.wordSets.update(e=>(e.push(I({},t)),[...e]))},error:t=>{}})}resetQuestion(){this.chosen=!1,this.answered=!1,this.chosenAnswer=void 0,this.isCorrect=!1,this.wordSets.update(t=>t.splice(1))}answeredClicked(t,e){!this.wordSets()[0].words[0]||this.answered||(this.chosenAnswer=e,this.chosen=!0)}checkAnswer(){this.chosen&&(this.answered=!0,typeof this.chosenAnswer=="number"&&this.chosenAnswer===this.wordSets()[0].correctAnswer?(this.handleAnswer(!0),this.hapticsService.vibrateSuccess()):(this.handleAnswer(!1),this.hapticsService.vibrateError()))}vibrate(){this.hapticsService.vibrateDefault()}handleAnswer(t){t?this.localStorageService.addTranslationsPageSuccess():this.localStorageService.addTranslationsPageFailure(),this.isCorrect=t,this.answered=!0}getButtonColor(t){return!this.answered&&!this.chosen?"dark":this.chosen&&!this.answered&&t===this.chosenAnswer?"warning":t===this.wordSets()[0].correctAnswer&&this.answered&&this.chosen?"success":t===this.chosenAnswer?"danger":"dark"}getTextColor(){return this.answered?this.isCorrect?"success":"danger":"dark"}toggleGerman(t){this.localStorageService.setItem(S.GermanEnabled,t?.detail?.checked),this.chosen=!1,this.answered=!1,this.chosenAnswer=void 0,this.isCorrect=!1,this.wordSets.set([])}handleRefresh(){this.resetQuestion()}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=G({type:r,selectors:[["app-translations-tab",8,"page"]],attrs:_e,decls:15,vars:17,consts:[["modal",""],[3,"translucent"],["slot","primary"],["id","open-modal",3,"click"],["color","dark","slot","icon-only","name","settings-outline"],[3,"forceOverscroll","fullscreen"],[1,"main-container"],[3,"isOpen","keyboardClose","backdropDismiss","handle","draggable","initialBreakpoint","breakpoints","backdropBreakpoint"],["trigger","open-modal",3,"canDismiss","initialBreakpoint","breakpoints"],[1,"word-container"],["color","dark"],[3,"animated"],[1,"question-container"],[1,"choices"],["slot","fixed",3,"ionRefresh"],[3,"color"],[3,"class","color"],[3,"click","color"],["shape","round",3,"disabled","class","color"],["shape","round",3,"click","disabled","color"],[1,"settings-list"],["helperText","Switches to choosing the correct German word based in a word in English.",3,"ionChange","ngModelChange","ngModel"]],template:function(e,a){if(e&1){let c=m();s(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),u(3," Guess The Translation "),l(),s(4,"ion-buttons",2)(5,"ion-button",3),_("click",function(){return p(c),h(a.vibrate())}),w(6,"ion-icon",4),l()()()(),s(7,"ion-content",5),T(8,Te,9,5,"div",6)(9,ye,11,7),l(),s(10,"ion-modal",7),v(11,Pe,1,1,"ng-template"),l(),s(12,"ion-modal",8,0),v(14,Me,4,1,"ng-template"),l()}e&2&&(g("translucent",!0),o(7),g("forceOverscroll",!1)("fullscreen",!0),o(),k(a.wordSets().length?9:8),o(2),g("isOpen",a.chosen)("keyboardClose",!1)("backdropDismiss",!1)("handle",!1)("draggable",!1)("initialBreakpoint",.15)("breakpoints",b(15,ue))("backdropBreakpoint",.5),o(2),g("canDismiss",!0)("initialBreakpoint",.25)("breakpoints",b(16,fe)))},dependencies:[U,J,ie,re,Z,ee,ne,Q,z,K,oe,Y,X,ae,q,$,H,te,N],styles:[".article-card[_ngcontent-%COMP%]{display:inline-block;margin:0;box-shadow:1px 2px #888}ion-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:700}.word-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;align-items:center;font-weight:700;font-size:xx-large;color:var(--ion-color-dark-shade);flex-direction:column}.word-container[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]{width:150px;height:40px}.article-btn[_ngcontent-%COMP%]{font-weight:700;--box-shadow: 3px 5px #888}.next[_ngcontent-%COMP%]{font-weight:700;margin:12px}.translation-btn[_ngcontent-%COMP%]{margin-bottom:22px;font-size:10px}.main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);height:100%;justify-content:center;position:relative}.next-button[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;width:100%;display:flex;align-items:center;justify-content:end}.choices[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;padding:8px;width:100%}.choices[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]{height:50px}.question-container[_ngcontent-%COMP%]{width:100%;align-items:end;display:flex;margin-bottom:10vh}.settings-list[_ngcontent-%COMP%]{padding-top:24px;height:100%}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100%;justify-content:center;gap:8px}"]});let n=r;return n})();export{ze as TranslationsTabPage};
