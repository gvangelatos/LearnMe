import{a as pe}from"./chunk-UTBVLR33.js";import{a as S,b as ge}from"./chunk-IBT46HT5.js";import{a as le}from"./chunk-3GJPDCPF.js";import{a as ce,h as de}from"./chunk-CAXYWSDQ.js";import{$ as y,Aa as B,Ba as F,C as A,Ca as D,Da as L,Ga as k,Ha as C,Hb as H,Ja as R,Ka as j,Kb as Q,L as s,Lb as K,Ma as W,Ob as J,Pb as U,Qb as X,Rb as Y,Sb as Z,U as O,Ub as ee,Va as N,Vb as te,Y as T,Zb as ne,aa as v,ac as ie,ba as G,bc as re,ca as V,d as E,da as p,dc as oe,ea as l,fa as a,ga as w,gc as ae,j as M,jb as $,jc as se,ka as f,kb as q,la as u,ma as d,pb as z,q as P,t as _,v as h,w as m,wa as x,xa as g,za as b}from"./chunk-PONW3FBB.js";import"./chunk-XE773CCY.js";import"./chunk-WE77HQDE.js";import"./chunk-2GDOKXI3.js";import"./chunk-6O2VLVOF.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-2F44PKVT.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{a as I}from"./chunk-JHI3MBHO.js";var he=(()=>{let r=class r{shuffleArray(t){let e=[...t],o=e.length;for(;o!=0;){let c=Math.floor(Math.random()*o);o--,[e[o],e[c]]=[e[c],e[o]]}return[...e]}};r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=P({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var ue=["class","page"],_e=()=>[.15,.5],we=()=>[0,.25,.5,.75],xe=n=>({"german-translation":!0,shake:n}),be=n=>({"article-btn":!0,gelatin:n}),Ce=n=>({next:!0,gelatin:n}),Se=(n,r)=>r+"-"+n;function Te(n,r){n&1&&(l(0,"div",6)(1,"ion-label"),g(2,"Getting you a word..."),a(),w(3,"ion-spinner",9),a())}function ye(n,r){if(n&1){let i=f();l(0,"ion-button",17),u("click",function(){let e=h(i),o=e.$implicit,c=e.$index,me=d(2);return m(me.answeredClicked(o,c))}),g(1),R(2,"titlecase"),a()}if(n&2){let i=r.$implicit,t=r.$index,e=d(2);x(C(6,be,e.chosenAnswer===t)),p("color",e.getButtonColor(t)),s(),b(" ",j(2,4,i)," ")}}function ve(n,r){if(n&1){let i=f();l(0,"ion-refresher",10),u("ionRefresh",function(){h(i);let e=d();return m(e.handleRefresh())}),w(1,"ion-refresher-content"),a(),l(2,"div",11)(3,"div",12)(4,"ion-text",13)(5,"div"),g(6),a()()(),l(7,"div",14)(8,"div",15),G(9,ye,3,8,"ion-button",16,Se),a()()()}if(n&2){let i=d();s(4),p("color",i.getTextColor()),s(),x(C(5,xe,!i.isCorrect&&i.answered)),s(),B(" ",i.wordSets()[0].words[0].article&&!i.germanEnabled?i.wordSets()[0].words[0].article+" ":"","",i.germanEnabled?i.wordSets()[0].words[0].english_translation:i.wordSets()[0].words[0].german_translation," "),s(3),V(i.wordSets()[0].answers)}}function ke(n,r){if(n&1){let i=f();l(0,"ion-button",19),u("click",function(){h(i);let e=d(2);return m(e.answered?e.handleRefresh():e.checkAnswer())}),g(1),a()}if(n&2){let i=d(2);x(C(5,Ce,i.answered)),p("disabled",!i.answered&&!i.chosen)("color",i.getTextColor()),s(),b(" ",i.answered?"Next":"Check"," ")}}function Ie(n,r){if(n&1&&y(0,ke,2,7,"ion-button",18),n&2){let i=d();v(i.chosen?0:-1)}}function Ee(n,r){if(n&1){let i=f();l(0,"ion-list",20)(1,"ion-item")(2,"ion-toggle",21),u("ionChange",function(e){h(i);let o=d();return m(o.toggleGerman(e))}),L("ngModelChange",function(e){h(i);let o=d();return D(o.germanEnabled,e)||(o.germanEnabled=e),m(e)}),g(3),a()()()}if(n&2){let i=d();s(2),F("ngModel",i.germanEnabled),s(),b(" Switch to German ",i.germanEnabled," ")}}var Me=3,qe=(()=>{let r=class r{constructor(){this.gsApiService=_(pe),this.utilityService=_(he),this.localStorageService=_(ge),this.wordSets=A([]),this.isCorrect=!1,this.answered=!1,this.chosen=!1,this.germanEnabled=!1,this.getIsGermanEnabledStorageData(),le({arrowForwardOutline:ce,settingsOutline:de}),W(()=>{this.wordSets().length<Me&&this.getWordsSet()})}getIsGermanEnabledStorageData(){let t=this.localStorageService.getItem(S.GermanEnabled);t===null?(this.germanEnabled=!1,this.localStorageService.setItem(S.GermanEnabled,!1)):this.germanEnabled=t}getWordsSet(){this.gsApiService.getRandomWords().pipe(E(t=>{let e,o;return this.germanEnabled?(e=this.utilityService.shuffleArray(t.map(c=>c.german_translation)),o=e.findIndex(c=>c.toLowerCase()===t[0]?.german_translation?.toLowerCase())):(e=this.utilityService.shuffleArray(t.map(c=>c.english_translation)),o=e.findIndex(c=>c.toLowerCase()===t[0]?.english_translation?.toLowerCase())),{words:t,answers:e,correctAnswer:o}}),M(1)).subscribe({next:t=>{this.wordSets.update(e=>(e.push(I({},t)),[...e]))},error:t=>{}})}resetQuestion(){this.chosen=!1,this.answered=!1,this.chosenAnswer=void 0,this.isCorrect=!1,this.wordSets.update(t=>t.splice(1))}answeredClicked(t,e){!this.wordSets()[0].words[0]||this.answered||(this.chosenAnswer=e,this.chosen=!0)}checkAnswer(){this.chosen&&(this.answered=!0,typeof this.chosenAnswer=="number"&&this.chosenAnswer===this.wordSets()[0].correctAnswer?this.handleAnswer(!0):this.handleAnswer(!1))}handleAnswer(t){t?this.localStorageService.addTranslationsPageSuccess():this.localStorageService.addTranslationsPageFailure(),this.isCorrect=t,this.answered=!0}getButtonColor(t){return!this.answered&&!this.chosen?"dark":this.chosen&&!this.answered&&t===this.chosenAnswer?"warning":t===this.wordSets()[0].correctAnswer&&this.answered&&this.chosen?"success":t===this.chosenAnswer?"danger":"dark"}getTextColor(){return this.answered?this.isCorrect?"success":"danger":"dark"}toggleGerman(t){console.log(t?.detail?.checked),this.localStorageService.setItem(S.GermanEnabled,t?.detail?.checked),this.chosen=!1,this.answered=!1,this.chosenAnswer=void 0,this.isCorrect=!1,this.wordSets.set([])}handleRefresh(){this.resetQuestion()}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=O({type:r,selectors:[["app-translations-tab",8,"page"]],attrs:ue,decls:15,vars:17,consts:[["modal",""],[3,"translucent"],["slot","primary"],["id","open-modal"],["color","dark","slot","icon-only","name","settings-outline"],[3,"forceOverscroll","fullscreen"],[1,"spinner-container"],[3,"isOpen","keyboardClose","backdropDismiss","handle","draggable","initialBreakpoint","breakpoints","backdropBreakpoint"],["trigger","open-modal",3,"canDismiss","initialBreakpoint","breakpoints"],["name","lines-sharp"],["slot","fixed",3,"ionRefresh"],[1,"main-container"],[1,"word-container"],[3,"color"],[1,"question-container"],[1,"choices"],[3,"class","color"],[3,"click","color"],["shape","round",3,"disabled","class","color"],["shape","round",3,"click","disabled","color"],[1,"settings-list"],["helperText","Switches to choosing the correct German word based in a word in English.",3,"ionChange","ngModelChange","ngModel"]],template:function(e,o){e&1&&(l(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),g(3," Guess The Translation "),a(),l(4,"ion-buttons",2)(5,"ion-button",3),w(6,"ion-icon",4),a()()()(),l(7,"ion-content",5),y(8,Te,4,0,"div",6)(9,ve,11,7),a(),l(10,"ion-modal",7),T(11,Ie,1,1,"ng-template"),a(),l(12,"ion-modal",8,0),T(14,Ee,4,2,"ng-template"),a()),e&2&&(p("translucent",!0),s(7),p("forceOverscroll",!1)("fullscreen",!0),s(),v(o.wordSets().length?9:8),s(2),p("isOpen",o.chosen)("keyboardClose",!1)("backdropDismiss",!1)("handle",!1)("draggable",!1)("initialBreakpoint",.15)("breakpoints",k(15,_e))("backdropBreakpoint",.5),s(2),p("canDismiss",!0)("initialBreakpoint",.25)("breakpoints",k(16,we)))},dependencies:[J,U,re,oe,Y,ne,ee,te,ie,Q,H,K,ae,Z,X,se,z,$,q,N],styles:[".article-card[_ngcontent-%COMP%]{display:inline-block;margin:0;box-shadow:1px 2px #888}ion-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:700}.word-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;align-items:center;font-weight:700;font-size:xx-large;color:var(--ion-color-dark-shade);flex-direction:column}.article-btn[_ngcontent-%COMP%]{font-weight:700;--box-shadow: 3px 5px #888}.next[_ngcontent-%COMP%]{font-weight:700;margin:12px}.translation-btn[_ngcontent-%COMP%]{margin-bottom:22px;font-size:10px}.main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);height:100%;justify-content:center;position:relative}.next-button[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;width:100%;display:flex;align-items:center;justify-content:end}.choices[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;padding:8px;width:100%}.question-container[_ngcontent-%COMP%]{width:100%;align-items:end;display:flex;margin-bottom:10vh}.settings-list[_ngcontent-%COMP%]{padding-top:24px;height:100%}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100%;justify-content:center;gap:8px}"]});let n=r;return n})();export{qe as TranslationsTabPage};
