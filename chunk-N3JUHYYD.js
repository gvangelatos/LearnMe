import{a as V}from"./chunk-ZKAHJ4OB.js";import{A as S,B as m,Bb as q,Cb as F,Db as U,Eb as P,Fb as N,J as c,Nb as A,Rb as W,S as C,Tb as B,Yb as $,Z as w,_ as D,a as f,aa as I,ba as M,c as g,ca as u,cc as G,da as i,ea as r,fa as p,fb as _,g as v,h as b,hb as E,ib as O,kb as L,l as h,la as k,m as y,n as x,s as a,wa as l,xa as T,xb as R,za as j,zc as H}from"./chunk-P45QBID6.js";import"./chunk-THTHWAQ6.js";import"./chunk-QUJFQN2Y.js";import"./chunk-4DJMDNC5.js";import"./chunk-FKJDL3M2.js";import"./chunk-YIHCPKBH.js";import"./chunk-VPLLFS7J.js";import"./chunk-KPN2SSRA.js";import"./chunk-C64N4FA3.js";import"./chunk-SMEE54TN.js";import"./chunk-BMJVVMK5.js";import"./chunk-R2VG4DQ6.js";import"./chunk-ZID3IQXP.js";import"./chunk-KI7QKDP2.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-Z4W4WSBC.js";import"./chunk-CKP3SGE2.js";import"./chunk-FPZUIWVF.js";import"./chunk-6YT5GN4E.js";import"./chunk-VDFYVGMU.js";import"./chunk-FS7NKJS5.js";import"./chunk-PGY34PD4.js";import"./chunk-GYLY2RJE.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-SPMQWSIB.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-2R6CW7ES.js";function z(e){e||(e=a(S));let t=new f(n=>{if(e.destroyed){n.next();return}return e.onDestroy(n.next.bind(n))});return n=>n.pipe(y(t))}var J=(e,t)=>t.id+"-"+e;function K(e,t){e&1&&(i(0,"div",3)(1,"ion-label"),l(2,"Looking for words..."),r(),p(3,"ion-spinner",4),r())}function Q(e,t){if(e&1&&(i(0,"ion-list",5)(1,"ion-item")(2,"ion-label"),l(3),r(),i(4,"ion-note",6),l(5),r()()()),e&2){let n=t.$implicit;u("inset",!0),c(3),j(" ",n.article?n.article+" ":"","",n.german_translation," "),c(2),T(n.english_translation)}}function X(e,t){if(e&1&&I(0,Q,6,4,"ion-list",5,J),e&2){let n=k();M(n.words())}}function Y(e,t){e&1&&(i(0,"div",3),l(1,"Oops... We found nothing!"),r())}var we=(()=>{let t=class t{constructor(){this.formBuilder=a(O),this.gsApiService=a(V),this.localStorageService=a(G),this.searchControl=this.formBuilder.control(""),this.words=m([]),this.isLoading=!1,this.text=H,this.searchControl.valueChanges.pipe(x(()=>this.isLoading=!0),b(300),v(o=>!!o),h(o=>o?this.gsApiService.fetchMatchingWords(o):g([])),z()).subscribe({next:o=>{this.isLoading=!1,this.words.set(o),this.localStorageService.addSearchPageSearch(!o.length)},error:o=>{this.isLoading=!1,console.log(o)}})}};t.\u0275fac=function(d){return new(d||t)},t.\u0275cmp=C({type:t,selectors:[["app-search-tab"]],decls:10,vars:7,consts:[[3,"translucent"],["inputmode","text","show-clear-button","focus","placeholder","Search Word",3,"animated","debounce","formControl"],[3,"forceOverscroll","fullscreen"],[1,"spinner-container"],["name","lines-sharp"],[3,"inset"],["slot","end"]],template:function(d,s){d&1&&(i(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),l(3," Word Database "),r()(),i(4,"ion-toolbar"),p(5,"ion-searchbar",1),r()(),i(6,"ion-content",2),w(7,K,4,0,"div",3)(8,X,2,0)(9,Y,2,0,"div",3),r()),d&2&&(u("translucent",!0),c(5),u("animated",!0)("debounce",300)("formControl",s.searchControl),c(),u("forceOverscroll",!1)("fullscreen",!0),c(),D(s.isLoading?7:!s.isLoading&&s.words().length?8:!s.isLoading&&(s.searchControl.value!=null&&s.searchControl.value.length)?9:-1))},dependencies:[q,B,W,R,$,L,_,E,U,A,P,F,N],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100%;justify-content:center;gap:8px}"]});let e=t;return e})();export{we as Tab3Page};
