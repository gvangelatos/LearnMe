import{a as ae}from"./chunk-3GJPDCPF.js";import{a as se,m as le}from"./chunk-FLOFNB6L.js";import{a as ge}from"./chunk-33SRS5BR.js";import{a as ce}from"./chunk-AZNADEWA.js";import{a as T,c as de}from"./chunk-EGKACPSF.js";import{$ as k,Aa as b,Ba as V,C as A,Ca as G,Da as B,Ea as D,Ia as w,Ja as S,Kb as z,L as r,La as L,Ma as R,Nb as H,Oa as W,Ob as Q,Rb as K,Sb as U,Tb as J,U as F,Vb as X,Xa as j,Xb as Y,Y as v,Yb as Z,aa as y,ac as ee,ca as E,d as M,da as P,ea as d,ec as te,fa as a,fc as ne,ga as s,ha as _,hc as ie,j as O,kc as oe,la as u,ma as f,mb as N,na as c,nb as $,nc as re,sb as q,t as C,v as p,w as h,xa as x,ya as m}from"./chunk-4CSFUU4W.js";import"./chunk-XE773CCY.js";import"./chunk-WE77HQDE.js";import"./chunk-2GDOKXI3.js";import"./chunk-6O2VLVOF.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-2F44PKVT.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{a as I}from"./chunk-JHI3MBHO.js";var me=["class","page"],_e=()=>[.15,.5],ue=()=>[0,.25,.5,.75],fe=()=>({"german-translation":!0}),xe=()=>[],we=n=>({"german-translation":!0,shake:n}),Ce=n=>({"article-btn":!0,gelatin:n}),be=n=>({next:!0,gelatin:n}),pe=(n,o)=>o+"-"+n;function Se(n,o){n&1&&_(0,"ion-skeleton-text",11),n&2&&d("animated",!0)}function Te(n,o){n&1&&(a(0,"div",6)(1,"div",9)(2,"ion-text",10)(3,"div"),_(4,"ion-skeleton-text",11),s()()(),a(5,"div",12)(6,"div",13),E(7,Se,1,1,"ion-skeleton-text",11,pe),s()()()),n&2&&(r(3),x(w(3,fe)),r(),d("animated",!0),r(3),P(w(4,xe).constructor(4)))}function ve(n,o){if(n&1){let i=u();a(0,"ion-button",17),f("click",function(){let t=p(i),l=t.$implicit,g=t.$index,he=c(2);return h(he.answeredClicked(l,g))}),m(1),L(2,"titlecase"),s()}if(n&2){let i=o.$implicit,e=o.$index,t=c(2);x(S(6,Ce,t.chosenAnswer===e)),d("color",t.getButtonColor(e)),r(),b(" ",R(2,4,i)," ")}}function ke(n,o){if(n&1){let i=u();a(0,"ion-refresher",14),f("ionRefresh",function(){p(i);let t=c();return h(t.handleRefresh())}),_(1,"ion-refresher-content"),s(),a(2,"div",6)(3,"div",9)(4,"ion-text",15)(5,"div"),m(6),s()()(),a(7,"div",12)(8,"div",13),E(9,ve,3,8,"ion-button",16,pe),s()()()}if(n&2){let i=c();r(4),d("color",i.getTextColor()),r(),x(S(5,we,!i.isCorrect&&i.answered)),r(),V(" ",i.wordSets()[0].words[0].article&&!i.germanEnabled?i.wordSets()[0].words[0].article+" ":"","",i.germanEnabled?i.wordSets()[0].words[0].english_translation:i.wordSets()[0].words[0].german_translation," "),r(3),P(i.wordSets()[0].answers)}}function ye(n,o){if(n&1){let i=u();a(0,"ion-button",19),f("click",function(){p(i);let t=c(2);return h(t.answered?t.handleRefresh():t.checkAnswer())}),m(1),s()}if(n&2){let i=c(2);x(S(5,be,i.answered)),d("disabled",!i.answered&&!i.chosen)("color",i.getTextColor()),r(),b(" ",i.answered?"Next":"Check"," ")}}function Ee(n,o){if(n&1&&k(0,ye,2,7,"ion-button",18),n&2){let i=c();y(i.chosen?0:-1)}}function Pe(n,o){if(n&1){let i=u();a(0,"ion-list",20)(1,"ion-item")(2,"ion-toggle",21),f("ionChange",function(t){p(i);let l=c();return h(l.toggleGerman(t))}),D("ngModelChange",function(t){p(i);let l=c();return B(l.germanEnabled,t)||(l.germanEnabled=t),h(t)}),m(3),s()()()}if(n&2){let i=c();r(2),G("ngModel",i.germanEnabled),r(),b(" Switch to German ",i.germanEnabled," ")}}var Ie=3,He=(()=>{let o=class o{constructor(){this.gsApiService=C(ce),this.utilityService=C(ge),this.localStorageService=C(de),this.wordSets=A([]),this.isCorrect=!1,this.answered=!1,this.chosen=!1,this.germanEnabled=!1,this.getIsGermanEnabledStorageData(),ae({arrowForwardOutline:se,settingsOutline:le}),W(()=>{this.wordSets().length<Ie&&this.getWordsSet()})}getIsGermanEnabledStorageData(){let e=this.localStorageService.getItem(T.GermanEnabled);e===null?(this.germanEnabled=!1,this.localStorageService.setItem(T.GermanEnabled,!1)):this.germanEnabled=e}getWordsSet(){this.gsApiService.getRandomWords().pipe(M(e=>{let t,l;return this.germanEnabled?(t=this.utilityService.shuffleArray(e.map(g=>g.german_translation)),l=t.findIndex(g=>g.toLowerCase()===e[0]?.german_translation?.toLowerCase())):(t=this.utilityService.shuffleArray(e.map(g=>g.english_translation)),l=t.findIndex(g=>g.toLowerCase()===e[0]?.english_translation?.toLowerCase())),{words:e,answers:t,correctAnswer:l}}),O(1)).subscribe({next:e=>{this.wordSets.update(t=>(t.push(I({},e)),[...t]))},error:e=>{}})}resetQuestion(){this.chosen=!1,this.answered=!1,this.chosenAnswer=void 0,this.isCorrect=!1,this.wordSets.update(e=>e.splice(1))}answeredClicked(e,t){!this.wordSets()[0].words[0]||this.answered||(this.chosenAnswer=t,this.chosen=!0)}checkAnswer(){this.chosen&&(this.answered=!0,typeof this.chosenAnswer=="number"&&this.chosenAnswer===this.wordSets()[0].correctAnswer?this.handleAnswer(!0):this.handleAnswer(!1))}handleAnswer(e){e?this.localStorageService.addTranslationsPageSuccess():this.localStorageService.addTranslationsPageFailure(),this.isCorrect=e,this.answered=!0}getButtonColor(e){return!this.answered&&!this.chosen?"dark":this.chosen&&!this.answered&&e===this.chosenAnswer?"warning":e===this.wordSets()[0].correctAnswer&&this.answered&&this.chosen?"success":e===this.chosenAnswer?"danger":"dark"}getTextColor(){return this.answered?this.isCorrect?"success":"danger":"dark"}toggleGerman(e){console.log(e?.detail?.checked),this.localStorageService.setItem(T.GermanEnabled,e?.detail?.checked),this.chosen=!1,this.answered=!1,this.chosenAnswer=void 0,this.isCorrect=!1,this.wordSets.set([])}handleRefresh(){this.resetQuestion()}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=F({type:o,selectors:[["app-translations-tab",8,"page"]],attrs:me,decls:15,vars:17,consts:[["modal",""],[3,"translucent"],["slot","primary"],["id","open-modal"],["color","dark","slot","icon-only","name","settings-outline"],[3,"forceOverscroll","fullscreen"],[1,"main-container"],[3,"isOpen","keyboardClose","backdropDismiss","handle","draggable","initialBreakpoint","breakpoints","backdropBreakpoint"],["trigger","open-modal",3,"canDismiss","initialBreakpoint","breakpoints"],[1,"word-container"],["color","dark"],[3,"animated"],[1,"question-container"],[1,"choices"],["slot","fixed",3,"ionRefresh"],[3,"color"],[3,"class","color"],[3,"click","color"],["shape","round",3,"disabled","class","color"],["shape","round",3,"click","disabled","color"],[1,"settings-list"],["helperText","Switches to choosing the correct German word based in a word in English.",3,"ionChange","ngModelChange","ngModel"]],template:function(t,l){t&1&&(a(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),m(3," Guess The Translation "),s(),a(4,"ion-buttons",2)(5,"ion-button",3),_(6,"ion-icon",4),s()()()(),a(7,"ion-content",5),k(8,Te,9,5,"div",6)(9,ke,11,7),s(),a(10,"ion-modal",7),v(11,Ee,1,1,"ng-template"),s(),a(12,"ion-modal",8,0),v(14,Pe,4,2,"ng-template"),s()),t&2&&(d("translucent",!0),r(7),d("forceOverscroll",!1)("fullscreen",!0),r(),y(l.wordSets().length?9:8),r(2),d("isOpen",l.chosen)("keyboardClose",!1)("backdropDismiss",!1)("handle",!1)("draggable",!1)("initialBreakpoint",.15)("breakpoints",w(15,_e))("backdropBreakpoint",.5),r(2),d("canDismiss",!0)("initialBreakpoint",.25)("breakpoints",w(16,ue)))},dependencies:[K,U,ne,ie,Y,Z,te,H,z,Q,oe,X,J,re,q,N,$,ee,j],styles:[".article-card[_ngcontent-%COMP%]{display:inline-block;margin:0;box-shadow:1px 2px #888}ion-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:700}.word-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;align-items:center;font-weight:700;font-size:xx-large;color:var(--ion-color-dark-shade);flex-direction:column}.word-container[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]{width:150px;height:40px}.article-btn[_ngcontent-%COMP%]{font-weight:700;--box-shadow: 3px 5px #888}.next[_ngcontent-%COMP%]{font-weight:700;margin:12px}.translation-btn[_ngcontent-%COMP%]{margin-bottom:22px;font-size:10px}.main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);height:100%;justify-content:center;position:relative}.next-button[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;width:100%;display:flex;align-items:center;justify-content:end}.choices[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;padding:8px;width:100%}.choices[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]{height:50px}.question-container[_ngcontent-%COMP%]{width:100%;align-items:end;display:flex;margin-bottom:10vh}.settings-list[_ngcontent-%COMP%]{padding-top:24px;height:100%}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100%;justify-content:center;gap:8px}"]});let n=o;return n})();export{He as TranslationsTabPage};
