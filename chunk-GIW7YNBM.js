import{a as H,b as V}from"./chunk-W7TZRZMY.js";import{i as G}from"./chunk-Q3CBNXOE.js";import{$a as U,B as c,Ca as L,Da as O,F as C,K as w,L as D,M as I,N as M,O as d,P as i,Q as r,R as f,X as k,Ya as R,Za as q,_a as F,a as g,ab as P,bb as N,c as v,ca as l,da as T,eb as A,fa as j,g as b,h,ib as W,jb as B,l as y,m as x,n as m,nb as $,r as a,w as S,x as p,ya as _,za as E}from"./chunk-6KAUTADS.js";import"./chunk-ZO533RPQ.js";import"./chunk-CEKJCJ5E.js";import"./chunk-HF35MVHV.js";import"./chunk-65LW6U7E.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-H3Z6NBHK.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";function z(e){e||(e=a(S));let n=new g(o=>{if(e.destroyed){o.next();return}return e.onDestroy(o.next.bind(o))});return o=>o.pipe(x(n))}var J=(e,n)=>n.id+"-"+e;function K(e,n){e&1&&(i(0,"div",3)(1,"ion-label"),l(2,"Looking for words..."),r(),f(3,"ion-spinner",4),r())}function Q(e,n){if(e&1&&(i(0,"ion-list",5)(1,"ion-item")(2,"ion-label"),l(3),r(),i(4,"ion-note",6),l(5),r()()()),e&2){let o=n.$implicit;d("inset",!0),c(3),j(" ",o.article?o.article+" ":"","",o.german_translation," "),c(2),T(o.english_translation)}}function X(e,n){if(e&1&&I(0,Q,6,4,"ion-list",5,J),e&2){let o=k();M(o.words())}}function Y(e,n){e&1&&(i(0,"div",3),l(1,"Oops... We found nothing!"),r())}var we=(()=>{let n=class n{constructor(){this.formBuilder=a(L),this.gsApiService=a(H),this.localStorageService=a(V),this.searchControl=this.formBuilder.control(""),this.words=p([]),this.isLoading=!1,this.text=G,this.searchControl.valueChanges.pipe(m(()=>this.isLoading=!0),m(t=>{t&&t.length<3?(this.isLoading=!1,this.words.set([])):t||(this.isLoading=!1,this.words.set([]))}),h(300),b(t=>!!t),y(t=>t?this.gsApiService.fetchMatchingWords(t):v([])),z()).subscribe({next:t=>{this.isLoading=!1,this.words.set(t),this.localStorageService.addSearchPageSearch(!t.length)},error:t=>{this.isLoading=!1,console.log(t)}})}};n.\u0275fac=function(u){return new(u||n)},n.\u0275cmp=C({type:n,selectors:[["app-tab3"]],decls:10,vars:7,consts:[[3,"translucent"],["inputmode","text","show-clear-button","focus","placeholder","Search Word",3,"animated","debounce","formControl"],[3,"forceOverscroll","fullscreen"],[1,"spinner-container"],["name","lines-sharp"],[3,"inset"],["slot","end"]],template:function(u,s){u&1&&(i(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),l(3," Word Database "),r()(),i(4,"ion-toolbar"),f(5,"ion-searchbar",1),r()(),i(6,"ion-content",2),w(7,K,4,0,"div",3)(8,X,2,0)(9,Y,2,0,"div",3),r()),u&2&&(d("translucent",!0),c(5),d("animated",!0)("debounce",300)("formControl",s.searchControl),c(),d("forceOverscroll",!1)("fullscreen",!0),c(),D(s.isLoading?7:!s.isLoading&&s.words().length?8:!s.isLoading&&(s.searchControl.value!=null&&s.searchControl.value.length)?9:-1))},dependencies:[q,B,W,R,$,O,_,E,U,A,P,F,N],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100%;justify-content:center;gap:8px}"]});let e=n;return e})();export{we as Tab3Page};
