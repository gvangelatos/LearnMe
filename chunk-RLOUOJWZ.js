import{a as N}from"./chunk-3GJPDCPF.js";import{a as q,i as G}from"./chunk-EKST77EU.js";import{a as J}from"./chunk-CAQ4NDHH.js";import{a as Q}from"./chunk-VPWQN3RI.js";import{$ as k,Aa as _,C as y,Ia as v,Ja as w,L as r,Lb as E,Oa as O,Ob as F,Sb as R,Ta as I,Tb as L,U as A,Y as M,Yb as V,Zb as D,aa as T,bc as B,ca as S,da as P,ea as c,fa as s,fc as W,ga as a,gc as j,ha as g,ic as $,la as b,lc as z,ma as f,na as l,sc as H,t as C,v as p,w as u,xa as m,ya as h}from"./chunk-3M6VVXZC.js";import"./chunk-XFTDMII6.js";import"./chunk-TWXWFH2W.js";import"./chunk-XSYUFH4D.js";import"./chunk-252GNU6G.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-SPMQWSIB.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";var x=["Der","Die","Das","Die (Plural)"];var Y=()=>[.15,.5],Z=()=>({"german-translation":!0}),ee=()=>[],te=e=>({"german-translation":!0,shake:e}),ne=e=>({show:e}),ie=e=>({"article-btn":!0,gelatin:e}),oe=e=>({next:!0,gelatin:e}),K=(e,o)=>o+"-"+e;function re(e,o){e&1&&g(0,"ion-skeleton-text",7),e&2&&c("animated",!0)}function se(e,o){e&1&&(s(0,"div",3)(1,"div",5)(2,"ion-text",6)(3,"div"),g(4,"ion-skeleton-text",7),a()()(),s(5,"div",8)(6,"div",9),S(7,re,1,1,"ion-skeleton-text",7,K),a()()()),e&2&&(r(3),m(v(3,Z)),r(),c("animated",!0),r(3),P(v(4,ee).constructor(4)))}function ae(e,o){if(e&1){let n=b();s(0,"ion-button",17),f("click",function(){let t=p(n),d=t.$implicit,U=t.$index,X=l(2);return u(X.answeredClicked(d,U))}),h(1),a()}if(e&2){let n=o.$implicit,i=o.$index,t=l(2);m(w(4,ie,t.chosenAnswer===i)),c("color",t.getButtonColor(i)),r(),_(" ",n," ")}}function ce(e,o){if(e&1){let n=b();s(0,"ion-refresher",10),f("ionRefresh",function(){p(n);let t=l();return u(t.handleRefresh())}),g(1,"ion-refresher-content"),a(),s(2,"div",3)(3,"div",5)(4,"div",11)(5,"ion-text",12)(6,"div"),h(7),a()(),s(8,"ion-button",13),f("click",function(){p(n);let t=l();return u(t.toggleTranslationShow())}),g(9,"ion-icon",14),a()(),s(10,"div")(11,"span",15),h(12),a()()(),s(13,"div",8)(14,"div",9),S(15,ae,2,6,"ion-button",16,K),a()()()}if(e&2){let n=l();r(5),c("color",n.getTextColor()),r(),m(w(6,te,!n.isCorrect&&n.answered)),r(),_(" ",n.words()[0].german_translation," "),r(4),c("ngClass",w(8,ne,n.showTranslation)),r(),_(' "',n.words()[0].english_translation,'" '),r(3),P(n.ARTICLES)}}function le(e,o){if(e&1){let n=b();s(0,"ion-button",19),f("click",function(){p(n);let t=l(2);return u(t.answered?t.handleRefresh():t.checkAnswer())}),h(1),a()}if(e&2){let n=l(2);m(w(5,oe,n.answered)),c("disabled",!n.chosen&&!n.answered)("color",n.getTextColor()),r(),_(" ",n.answered?"Next":"Check"," ")}}function de(e,o){if(e&1&&k(0,le,2,7,"ion-button",18),e&2){let n=l();T(n.chosen?0:-1)}}var ke=(()=>{let o=class o{constructor(){this.gsApiService=C(J),this.hapticsService=C(Q),this.localStorageService=C(H),this.words=y([]),this.isCorrect=!1,this.answered=!1,this.showTranslation=!1,this.chosen=!1,this.ARTICLES=x,N({languageOutline:G,arrowForwardOutline:q}),O(()=>{this.words().length<3&&this.makeWordCall()})}makeWordCall(){this.gsApiService.getRandomWordsWithArticle(5).subscribe({next:i=>{this.words.update(t=>t.concat(i)),this.setCorrectWord()},error:i=>{}})}setCorrectWord(){if(this.words()[0]?.isPlural)this.correctAnswer=3;else{let t=x.filter(d=>!d.toLowerCase().includes("plural")).findIndex(d=>this.words()[0]?.article?.toLowerCase().includes(d.toLowerCase()));t>-1&&(this.correctAnswer=t)}}answeredClicked(i,t){!this.words()[0]||this.answered||(this.chosenAnswer=t,this.chosen=!0)}checkAnswer(){this.chosen&&(this.answered=!0,typeof this.chosenAnswer=="number"&&x[this.chosenAnswer].toLowerCase().includes("plural")&&this.words()[0].isPlural?this.handleAnswer(!0):typeof this.chosenAnswer=="number"&&this.words()[0].article?.toLowerCase().includes(x[this.chosenAnswer].toLowerCase())&&!this.words()[0].isPlural?(this.handleAnswer(!0),this.hapticsService.vibrateSuccess()):(this.handleAnswer(!1),this.hapticsService.vibrateError()))}toggleTranslationShow(){this.showTranslation=!this.showTranslation}handleAnswer(i){i?this.localStorageService.addArticlesPageSuccess():this.localStorageService.addArticlesPageFailure(),this.isCorrect=i,this.answered=!0,this.showTranslation=!0}getTextColor(){return this.answered?this.isCorrect?"success":"danger":"dark"}resetQuestion(){this.chosen=!1,this.showTranslation=!1,this.isCorrect=!1,this.answered=!1,this.correctAnswer=void 0,this.chosenAnswer=void 0,this.words.update(i=>i.slice(1)),this.setCorrectWord()}getButtonColor(i){return!this.answered&&!this.chosen?"dark":this.chosen&&!this.answered&&i===this.chosenAnswer?"warning":i===this.correctAnswer&&this.answered&&this.chosen?"success":i===this.chosenAnswer?"danger":"dark"}handleRefresh(){this.resetQuestion()}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=A({type:o,selectors:[["app-articles-tab"]],decls:10,vars:13,consts:[["modal",""],[3,"translucent"],[3,"forceOverscroll","fullscreen"],[1,"main-container"],["trigger","open-modal",3,"isOpen","keyboardClose","backdropDismiss","handle","draggable","initialBreakpoint","breakpoints","backdropBreakpoint"],[1,"word-container"],["color","dark"],[3,"animated"],[1,"question-container"],[1,"choices"],["slot","fixed",3,"ionRefresh"],[1,"word-icon-container"],[3,"color"],["id","click-trigger","size","small","fill","outline","shape","round","color","dark",1,"translation-btn",3,"click"],["slot","icon-only","name","language-outline"],[1,"english-translation",3,"ngClass"],[3,"class","color"],[3,"click","color"],["shape","round",3,"disabled","class","color"],["shape","round",3,"click","disabled","color"]],template:function(t,d){t&1&&(s(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),h(3," Guess The Articles "),a()()(),s(4,"ion-content",2),k(5,se,9,5,"div",3)(6,ce,17,10),a(),s(7,"ion-modal",4,0),M(9,de,1,1,"ng-template"),a()),t&2&&(c("translucent",!0),r(4),c("forceOverscroll",!1)("fullscreen",!0),r(),T(d.words().length?6:5),r(2),c("isOpen",d.chosen)("keyboardClose",!1)("backdropDismiss",!1)("handle",!1)("draggable",!1)("initialBreakpoint",.15)("breakpoints",v(12,Y))("backdropBreakpoint",.5))},dependencies:[L,$,j,R,F,z,I,W,V,D,E,B],styles:[".article-card[_ngcontent-%COMP%]{display:inline-block;margin:0;box-shadow:1px 2px #888}ion-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:700}.word-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;align-items:center;font-weight:700;font-size:xx-large;color:var(--ion-color-dark-shade);flex-direction:column}.word-container[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]{width:150px;height:40px}.word-icon-container[_ngcontent-%COMP%]{display:flex;gap:4px}.article-btn[_ngcontent-%COMP%]{font-weight:700;--box-shadow: 3px 5px #888}.next[_ngcontent-%COMP%]{font-weight:700;margin:12px}.translation-btn[_ngcontent-%COMP%]{margin-bottom:22px;font-size:10px}.main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);height:100%;justify-content:center;position:relative}.next-button[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;width:100%;display:flex;align-items:center;justify-content:end}.choices[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;padding:8px;width:100%}.choices[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]{height:50px}.question-container[_ngcontent-%COMP%]{width:100%;align-items:end;display:flex;margin-bottom:10vh}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100%;justify-content:center;gap:8px}.english-translation[_ngcontent-%COMP%]{clip-path:inset(50% round 50%);padding:5px;font-size:x-large;font-weight:400}.english-translation.show[_ngcontent-%COMP%]{clip-path:inset(0% round 0%)}"]});let e=o;return e})();export{ke as Tab2Page};
