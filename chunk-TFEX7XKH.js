import{a as Z}from"./chunk-BCBJALFR.js";import{a as te}from"./chunk-2J6Z26FI.js";import{b as ee}from"./chunk-M3XUFGYY.js";import{a as G,b as Y}from"./chunk-NLC36UP4.js";import{$ as v,Aa as x,Ac as J,C as y,Ia as S,Ja as C,L as o,Mb as I,Oa as M,Oc as K,Pb as F,Ta as O,Tb as V,U as A,Ub as R,Vb as L,Wb as D,Xb as W,Y as E,Yc as U,aa as T,ac as B,bc as z,ca as k,da as P,ea as c,fa as s,fc as j,ga as a,ha as h,jc as $,kc as N,la as _,ma as f,mc as H,na as l,od as X,pc as q,t as p,v as u,vc as Q,w as g,xa as w,ya as m}from"./chunk-RTO6WDIM.js";import"./chunk-RZIBBJQ2.js";import"./chunk-QUJFQN2Y.js";import"./chunk-S66GZ3GW.js";import"./chunk-JJC7LCPG.js";import"./chunk-BWE55RDB.js";import"./chunk-VPLLFS7J.js";import"./chunk-DLFPG55H.js";import"./chunk-6HRV5MJL.js";import"./chunk-T77LZ5ZG.js";import"./chunk-BMJVVMK5.js";import"./chunk-QLURDETW.js";import"./chunk-KEHXJWBY.js";import"./chunk-OAAU2IJF.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-VRJJ5SCX.js";import"./chunk-CKP3SGE2.js";import"./chunk-POMS3W3A.js";import"./chunk-6YT5GN4E.js";import"./chunk-VDFYVGMU.js";import"./chunk-FS7NKJS5.js";import"./chunk-PGY34PD4.js";import"./chunk-GYLY2RJE.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-SPMQWSIB.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-2R6CW7ES.js";var b=["Der","Die","Das","Die (Plural)"];var re=()=>[.15,.5],se=()=>({"german-translation":!0}),ae=()=>[],ce=e=>({"german-translation":!0,shake:e}),le=e=>({show:e}),de=e=>({"article-btn":!0,gelatin:e}),he=e=>({next:!0,gelatin:e}),ne=(e,r)=>r+"-"+e;function pe(e,r){e&1&&h(0,"ion-skeleton-text",8),e&2&&c("animated",!0)}function ue(e,r){e&1&&(s(0,"div",3)(1,"div",6)(2,"ion-text",7)(3,"div"),h(4,"ion-skeleton-text",8),a()()(),s(5,"div",9)(6,"div",10),k(7,pe,1,1,"ion-skeleton-text",8,ne),a()()()),e&2&&(o(3),w(S(3,se)),o(),c("animated",!0),o(3),P(S(4,ae).constructor(4)))}function ge(e,r){if(e&1){let t=_();s(0,"ion-button",18),f("click",function(){let n=u(t),d=n.$implicit,ie=n.$index,oe=l(2);return g(oe.answeredClicked(d,ie))}),m(1),a()}if(e&2){let t=r.$implicit,i=r.$index,n=l(2);w(C(4,de,n.chosenAnswer===i)),c("color",n.getButtonColor(i)),o(),x(" ",t," ")}}function fe(e,r){if(e&1){let t=_();s(0,"ion-refresher",11),f("ionRefresh",function(){u(t);let n=l();return g(n.handleRefresh())}),h(1,"ion-refresher-content"),a(),s(2,"div",3)(3,"div",6)(4,"div",12)(5,"ion-text",13)(6,"div"),m(7),a()(),s(8,"ion-button",14),f("click",function(){u(t);let n=l();return g(n.toggleTranslationShow())}),h(9,"ion-icon",15),a()(),s(10,"div")(11,"span",16),m(12),a()()(),s(13,"div",9)(14,"div",10),k(15,ge,2,6,"ion-button",17,ne),a()()()}if(e&2){let t=l();o(5),c("color",t.getTextColor()),o(),w(C(6,ce,!t.isCorrect&&t.answered)),o(),x(" ",t.words()[0].german_translation," "),o(4),c("ngClass",C(8,le,t.showTranslation)),o(),x(' "',t.words()[0].english_translation,'" '),o(3),P(t.ARTICLES)}}function me(e,r){if(e&1){let t=_();s(0,"ion-fab",4)(1,"ion-fab-button",19),h(2,"ion-icon",20),a(),s(3,"ion-fab-list",21)(4,"ion-fab-button",22),f("click",function(){u(t);let n=l();return g(n.shareWord())}),h(5,"ion-icon",23),a()()()}if(e&2){let t=l();c("edge",!0),o(),c("disabled",!t.words().length),o(3),c("disabled",!t.words().length)}}function _e(e,r){if(e&1){let t=_();s(0,"ion-button",25),f("click",function(){u(t);let n=l(2);return g(n.answered?n.handleRefresh():n.checkAnswer())}),m(1),a()}if(e&2){let t=l(2);w(C(5,he,t.answered)),c("disabled",!t.chosen&&!t.answered)("color",t.getTextColor()),o(),x(" ",t.answered?"Next":"Check"," ")}}function we(e,r){if(e&1&&v(0,_e,2,7,"ion-button",24),e&2){let t=l();T(t.chosen?0:-1)}}var Fe=(()=>{let r=class r{constructor(){this.gsApiService=p(Z),this.hapticsService=p(Y),this.sharingService=p(te),this.localStorageService=p(X),this.affirmationToastService=p(ee),this.words=y([]),this.isCorrect=!1,this.answered=!1,this.showTranslation=!1,this.chosen=!1,this.sharingEnabled=!1,this.ARTICLES=b,G({languageOutline:K,arrowForwardOutline:Q,chevronDownCircleOutline:J,shareOutline:U}),M(()=>{this.words().length<3&&this.makeWordCall()}),this.sharingEnabled=this.sharingService.isSharingEnabled}ionViewWillEnter(){this.sharingEnabled=this.sharingService.initializeSharing()}shareWord(){this.hapticsService.vibrateDefault(),this.sharingService.shareElement("share-this-articles","Hey, take a look at this word!",this.words()[0].german_translation)}makeWordCall(){this.gsApiService.getRandomWordsWithArticle(5).subscribe({next:i=>{this.words.update(n=>n.concat(i)),this.setCorrectWord()},error:i=>{}})}setCorrectWord(){if(this.words()[0]?.isPlural)this.correctAnswer=3;else{let n=b.filter(d=>!d.toLowerCase().includes("plural")).findIndex(d=>this.words()[0]?.article?.toLowerCase().includes(d.toLowerCase()));n>-1&&(this.correctAnswer=n)}}answeredClicked(i,n){!this.words()[0]||this.answered||(this.chosenAnswer=n,this.chosen=!0)}checkAnswer(){this.chosen&&(this.answered=!0,typeof this.chosenAnswer=="number"&&b[this.chosenAnswer].toLowerCase().includes("plural")&&this.words()[0].isPlural?this.handleAnswer(!0):typeof this.chosenAnswer=="number"&&this.words()[0].article?.toLowerCase().includes(b[this.chosenAnswer].toLowerCase())&&!this.words()[0].isPlural?(this.handleAnswer(!0),this.hapticsService.vibrateSuccess(),this.affirmationToastService.showPositiveToast()):(this.handleAnswer(!1),this.hapticsService.vibrateError(),this.affirmationToastService.showNegativeToast()))}toggleTranslationShow(){this.showTranslation=!this.showTranslation}handleAnswer(i){i?this.localStorageService.addArticlesPageSuccess():this.localStorageService.addArticlesPageFailure(),this.isCorrect=i,this.answered=!0,this.showTranslation=!0}getTextColor(){return this.answered?this.isCorrect?"success":"danger":"dark"}resetQuestion(){this.chosen=!1,this.showTranslation=!1,this.isCorrect=!1,this.answered=!1,this.correctAnswer=void 0,this.chosenAnswer=void 0,this.words.update(i=>i.slice(1)),this.setCorrectWord()}getButtonColor(i){return!this.answered&&!this.chosen?"dark":this.chosen&&!this.answered&&i===this.chosenAnswer?"warning":i===this.correctAnswer&&this.answered&&this.chosen?"success":i===this.chosenAnswer?"danger":"dark"}handleRefresh(){this.resetQuestion()}};r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=A({type:r,selectors:[["app-articles-tab"]],decls:11,vars:14,consts:[["modal",""],[3,"translucent"],[3,"forceOverscroll","fullscreen"],[1,"main-container"],["slot","fixed","vertical","top","horizontal","end",3,"edge"],[3,"isOpen","keyboardClose","backdropDismiss","handle","draggable","initialBreakpoint","breakpoints","backdropBreakpoint"],[1,"word-container"],["color","dark"],[3,"animated"],[1,"question-container"],[1,"choices"],["slot","fixed",3,"ionRefresh"],[1,"word-icon-container"],["id","share-this-articles",3,"color"],["id","click-trigger","size","small","fill","outline","shape","round","color","dark",1,"translation-btn",3,"click"],["slot","icon-only","name","language-outline"],[1,"english-translation",3,"ngClass"],[3,"class","color"],[3,"click","color"],["color","dark","size","small",3,"disabled"],["name","chevron-down-circle-outline"],["side","bottom"],[3,"click","disabled"],["name","share-outline"],["shape","round",3,"disabled","class","color"],["shape","round",3,"click","disabled","color"]],template:function(n,d){n&1&&(s(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),m(3," Guess The Articles "),a()()(),s(4,"ion-content",2),v(5,ue,9,5,"div",3)(6,fe,17,10),v(7,me,6,3,"ion-fab",4),a(),s(8,"ion-modal",5,0),E(10,we,1,1,"ng-template"),a()),n&2&&(c("translucent",!0),o(4),c("forceOverscroll",!1)("fullscreen",!0),o(),T(d.words().length?6:5),o(2),T(d.sharingEnabled?7:-1),o(),c("isOpen",d.chosen)("keyboardClose",!1)("backdropDismiss",!1)("handle",!1)("draggable",!1)("initialBreakpoint",.15)("breakpoints",S(13,re))("backdropBreakpoint",.5))},dependencies:[W,H,N,V,F,q,O,$,B,z,I,j,R,L,D],styles:[".article-card[_ngcontent-%COMP%]{display:inline-block;margin:0;box-shadow:1px 2px #888}ion-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:700}.word-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;align-items:center;font-weight:700;font-size:xx-large;color:var(--ion-color-dark-shade);flex-direction:column}.word-container[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]{width:150px;height:40px}.word-icon-container[_ngcontent-%COMP%]{display:flex;gap:4px}.article-btn[_ngcontent-%COMP%]{font-weight:700;--box-shadow: 3px 5px #888}.next[_ngcontent-%COMP%]{font-weight:700;margin:12px}.translation-btn[_ngcontent-%COMP%]{margin-bottom:22px;font-size:10px}.main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);height:100%;justify-content:center;position:relative}.next-button[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;width:100%;display:flex;align-items:center;justify-content:end}.choices[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;padding:8px;width:100%}.choices[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]{height:50px}.question-container[_ngcontent-%COMP%]{width:100%;align-items:end;display:flex;margin-bottom:10vh}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100%;justify-content:center;gap:8px}.english-translation[_ngcontent-%COMP%]{clip-path:inset(50% round 50%);padding:5px;font-size:x-large;font-weight:400}.english-translation.show[_ngcontent-%COMP%]{clip-path:inset(0% round 0%)}"]});let e=r;return e})();export{Fe as Tab2Page};
